---
phase: 05-framework-verification
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - examples/vue/package.json
  - examples/vue/src/App.vue
  - examples/vue/src/main.ts
  - examples/vue/vite.config.ts
  - examples/vue/index.html
  - examples/vue/tsconfig.json
  - examples/vue/env.d.ts
autonomous: true

must_haves:
  truths:
    - "Button renders with all variants (primary, secondary, outline, ghost, destructive)"
    - "Button click events fire via @click handler"
    - "Dialog opens via :open prop binding and closes via Escape key"
    - "Dialog @close event fires with reason in event.detail"
    - "Slots render content correctly using slot attribute"
    - "No Vue 'failed to resolve component' warnings appear"
  artifacts:
    - path: "examples/vue/src/App.vue"
      provides: "Vue 3 component usage demonstration"
      min_lines: 50
    - path: "examples/vue/vite.config.ts"
      provides: "isCustomElement configuration for ui- prefix"
      contains: "isCustomElement"
  key_links:
    - from: "examples/vue/src/App.vue"
      to: "src/components/button/button.ts"
      via: "side-effect import"
      pattern: "import.*lit-ui"
---

<objective>
Create a Vue 3 test application that imports and uses the lit-ui Button and Dialog components, verifying that property binding works, events emit correctly, and the isCustomElement config prevents Vue component resolution warnings.

Purpose: Validate Vue 3 custom element support works with lit-ui components
Output: Fully functional Vue test app demonstrating all component features
</objective>

<execution_context>
@/Users/sn0w/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sn0w/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-framework-verification/05-RESEARCH.md

# Component sources for understanding API
@src/components/button/button.ts
@src/components/dialog/dialog.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Vue 3 Vite app with isCustomElement config</name>
  <files>
    examples/vue/package.json
    examples/vue/vite.config.ts
    examples/vue/tsconfig.json
    examples/vue/index.html
    examples/vue/src/main.ts
    examples/vue/env.d.ts
  </files>
  <action>
    Create Vue 3 test app in examples/vue:

    1. Run: `npm create vite@latest examples/vue -- --template vue-ts`
    2. In examples/vue, run: `npm install`
    3. Add lit-ui dependency via file reference: `"lit-ui": "file:../.."`

    CRITICAL: Configure vite.config.ts with isCustomElement to prevent Vue warnings:

    ```typescript
    import { defineConfig } from 'vite'
    import vue from '@vitejs/plugin-vue'

    export default defineConfig({
      plugins: [
        vue({
          template: {
            compilerOptions: {
              // Treat tags with 'ui-' prefix as custom elements
              isCustomElement: (tag) => tag.startsWith('ui-')
            }
          }
        })
      ]
    })
    ```

    Create standard main.ts with createApp(App).mount('#app').

    Create index.html with div#app and script type="module" pointing to main.ts.

    Create env.d.ts with Vue client type reference.

    tsconfig.json should use Vue TS defaults.
  </action>
  <verify>
    Run `npm run dev` in examples/vue - dev server starts without errors.
    No "failed to resolve component" warnings in console.
  </verify>
  <done>Vue 3 Vite app created with isCustomElement configured, dev server runs without warnings</done>
</task>

<task type="auto">
  <name>Task 2: Create App.vue with full component demo</name>
  <files>
    examples/vue/src/App.vue
  </files>
  <action>
    Create App.vue demonstrating ALL component features from RESEARCH.md examples:

    ```vue
    <script setup lang="ts">
    import { ref } from 'vue';
    import 'lit-ui';

    const dialogOpen = ref(false);
    const loading = ref(false);

    function handleButtonClick() {
      console.log('Button clicked');
      dialogOpen.value = true;
    }

    function handleDialogClose(e: CustomEvent<{ reason: string }>) {
      console.log('Dialog closed with reason:', e.detail.reason);
      dialogOpen.value = false;
    }

    function handleSubmit() {
      loading.value = true;
      setTimeout(() => loading.value = false, 2000);
    }
    </script>

    <template>
      <!-- All 5 button variants -->
      <!-- All 3 button sizes -->
      <!-- Disabled button -->
      <!-- Loading button with :loading bound to ref -->
      <!-- Button with icon slots -->
      <!-- Dialog with :open bound to dialogOpen -->
      <!-- Dialog @close handler -->
      <!-- Dialog slots: title, default content, footer -->
      <!-- Form with submit button -->
    </template>
    ```

    Key Vue patterns:
    - Use :prop for property binding (e.g., :open="dialogOpen", :loading="loading")
    - Use @event for event handling (e.g., @click, @close)
    - Use slot="name" attribute for named slots (NOT v-slot)
    - CustomEvent.detail accessed in handler

    Include console.log calls to verify events fire.
  </action>
  <verify>
    - TypeScript compiles without errors: `npm run build`
    - App renders in browser with all variants visible
    - No Vue warnings about component resolution
    - Clicking buttons logs to console
    - Opening/closing dialog works with proper event detail
    - No console errors
  </verify>
  <done>Vue app demonstrates all Button and Dialog features with proper event handling</done>
</task>

</tasks>

<verification>
Full verification checklist:
1. `cd examples/vue && npm run dev` - starts without errors
2. Open http://localhost:5173 in browser
3. NO "failed to resolve component: ui-button" warnings
4. All 5 button variants render with correct styling
5. All 3 button sizes render correctly
6. Disabled button shows disabled state
7. Click loading button - shows spinner, reverts after 2s
8. Click "Open Dialog" - dialog appears with animation
9. Press Escape - dialog closes, console shows close reason
10. Click backdrop - dialog closes with backdrop reason
11. Form submit button triggers form submission
12. No console errors or Vue warnings
</verification>

<success_criteria>
- Vue 3 test app runs without errors
- isCustomElement config prevents "failed to resolve" warnings
- All button variants/sizes/states render correctly
- Button @click events fire and log to console
- Dialog :open property binding works
- Dialog @close event contains reason in detail
- Slots render content using slot attribute (not v-slot)
- Form participation works
- Zero console errors or warnings
</success_criteria>

<output>
After completion, create `.planning/phases/05-framework-verification/05-02-SUMMARY.md`
</output>
