---
phase: 35-combobox
plan: 04
type: execute
wave: 3
depends_on: ["35-02", "35-03"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "Searchable select filters options as user types"
    - "Match highlighting shows bold text for ALL occurrences"
    - "Empty state appears when no options match"
    - "Creatable mode shows create option and fires onCreate event"
    - "Keyboard navigation works correctly in all modes"
    - "Screen reader experience is correct"
---

<objective>
Human verification of complete combobox functionality.

Purpose: Ensure all combobox features work correctly together before phase completion.
Output: Verified working combobox with filtering, highlighting, empty state, and creatable mode.
</objective>

<execution_context>
@/Users/sn0w/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sn0w/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/35-combobox/35-01-SUMMARY.md
@.planning/phases/35-combobox/35-02-SUMMARY.md
@.planning/phases/35-combobox/35-03-SUMMARY.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Complete combobox functionality for lui-select:
- searchable prop transforms trigger to text input
- Typing filters options with case-insensitive contains matching
- Match highlighting shows bold text for all occurrences
- Empty state with customizable message when no matches
- customFilter prop for custom filtering logic
- creatable prop with "Create 'xyz'" option and onCreate event
- Full keyboard navigation in searchable mode
- Proper ARIA attributes for combobox with list autocomplete
  </what-built>
  <how-to-verify>
Start the docs dev server:
```bash
cd apps/docs && pnpm dev
```

Navigate to http://localhost:5173/components/select

Test 1: Basic Searchable
1. Find a searchable select example (or add `searchable` prop to existing)
2. Click the select - should show text input
3. Type "ap" - should filter to options containing "ap"
4. Verify "ap" is highlighted in BOLD in matching labels
5. Press Arrow Down - should navigate filtered options
6. Press Enter - should select option and close
7. Verify selected value displays correctly when closed

Test 2: Empty State
1. Type "xyz123" (no match)
2. Should see "No results found" message
3. Clear and close select

Test 3: Match Highlighting
1. Type "an" in select with "Banana" option
2. Verify BOTH "an" occurrences are highlighted in "Banana"
3. Not just the first one

Test 4: Creatable Mode
1. Add `creatable` prop to a searchable select
2. Type "NewItem" (value that doesn't exist)
3. Should see "Create 'NewItem'" option with + icon at bottom
4. Click it - should fire onCreate event (check console)
5. Type exact existing option label - create option should NOT appear

Test 5: Keyboard Navigation
1. Tab to searchable select
2. Type to filter
3. Arrow Down/Up navigates filtered options
4. If creatable: Arrow past last option goes to create option
5. Enter selects current option
6. Escape closes dropdown
7. Verify Left/Right arrows move cursor in input (not navigate options)

Test 6: Screen Reader (if available)
1. Focus searchable select with screen reader
2. Should announce "combobox" with "autocomplete list"
3. Navigate options - should announce option names and positions
4. Verify empty state is announced

Test 7: Multi-select + Searchable (if time permits)
1. Add `multiple searchable` to a select
2. Verify filtering works with multi-select
3. Verify selections persist while filtering
  </how-to-verify>
  <resume-signal>Type "approved" if all tests pass, or describe specific issues found</resume-signal>
</task>

</tasks>

<verification>
Human verification checkpoint - no automated verification needed.
</verification>

<success_criteria>
All manual tests pass:
- Searchable filtering works
- Match highlighting shows all occurrences in bold
- Empty state displays correctly
- Creatable mode works with click and keyboard
- Keyboard navigation correct
- Screen reader announces combobox correctly
</success_criteria>

<output>
After completion, create `.planning/phases/35-combobox/35-04-SUMMARY.md`
</output>
