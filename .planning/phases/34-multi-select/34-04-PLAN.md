---
phase: 34-multi-select
plan: 04
type: execute
wave: 4
depends_on: ["34-03"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "Multi-select works correctly across all scenarios"
    - "Form submission sends multiple values"
    - "Accessibility patterns are correct"
    - "Visual states match design decisions"
  artifacts: []
  key_links: []
---

<objective>
Human verification of complete multi-select functionality.

Purpose: Confirm all multi-select features work correctly before marking phase complete.

Output: Verified multi-select implementation ready for combobox phase.
</objective>

<execution_context>
@/Users/sn0w/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sn0w/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/34-multi-select/34-CONTEXT.md
@.planning/phases/34-multi-select/34-01-SUMMARY.md
@.planning/phases/34-multi-select/34-02-SUMMARY.md
@.planning/phases/34-multi-select/34-03-SUMMARY.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete multi-select functionality for lui-select component including tag display, overflow handling, and select all actions</what-built>
  <how-to-verify>
1. Start docs dev server:
   ```bash
   cd apps/docs && pnpm dev
   ```

2. Navigate to /components/select or create test page

3. **Test multi-select mode:**
   - Add lui-select with multiple attribute
   - Click multiple options - dropdown should stay open
   - Verify each selection appears as a pill-shaped tag
   - Verify tags have X button to remove

4. **Test tag removal:**
   - Click X on a tag
   - Verify that tag is removed, others remain
   - Verify dropdown doesn't open when removing

5. **Test keyboard navigation:**
   - Focus the select, press Space to open
   - Use arrow keys to navigate options
   - Press Space to toggle selection (should stay open)
   - Press Enter to close dropdown

6. **Test tag overflow:**
   - Select many options (5+)
   - Verify +N more counter appears when tags overflow
   - Hover +N more, verify tooltip shows hidden selections

7. **Test select all / clear all:**
   - Add showSelectAll prop to select
   - Open dropdown, click "Select all"
   - Verify all enabled options selected (disabled skipped)
   - Click "Clear all"
   - Verify all selections removed

8. **Test form submission:**
   - Wrap multi-select in a form with submit handler
   - Select multiple values
   - Submit form
   - Log FormData.getAll(name) - should return array of values

9. **Test checkbox indicators:**
   - Verify options show checkbox (not checkmark) in multi-mode
   - Verify checkbox fills when option is selected

10. **Test with option groups:**
    - Create multi-select with lui-option-group
    - Verify selections work across groups
    - Verify select all works with groups

11. **Test accessibility:**
    - Use screen reader (VoiceOver)
    - Verify aria-multiselectable="true" on listbox
    - Verify options announce selected state

12. **Test maxSelections:**
    - Add maxSelections="3" prop
    - Try to select more than 3 options
    - Verify 4th selection is blocked
    - Verify "Select all" respects limit
  </how-to-verify>
  <resume-signal>Type "approved" if all tests pass, or describe issues found</resume-signal>
</task>

</tasks>

<verification>
- Human confirms all multi-select scenarios work correctly
- No visual glitches or interaction bugs
- Form submission works with multiple values
- Accessibility requirements met
</verification>

<success_criteria>
Human approval of complete multi-select implementation covering:
- Tag display and removal
- Keyboard navigation
- Tag overflow with +N more
- Select all / Clear all actions
- Form submission via FormData
- Accessibility with ARIA attributes
- Option groups support
- maxSelections limit
</success_criteria>

<output>
After completion, create `.planning/phases/34-multi-select/34-04-SUMMARY.md`
</output>
