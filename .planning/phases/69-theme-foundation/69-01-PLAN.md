---
phase: 69-theme-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - packages/core/src/styles/tailwind.css
  - .planning/phases/69-theme-foundation/THEME-SPEC.md
autonomous: true
requirements:
  - THEME-01
  - THEME-02
  - THEME-03

must_haves:
  truths:
    - "A canonical THEME-SPEC.md exists listing every --ui-* token with its concrete default value"
    - "Every component phase (70-87) can determine what 'matching the monochrome theme' means by reading THEME-SPEC.md"
    - "All --ui-* default token values in tailwind.css use concrete CSS values (not abstract references like var(--color-background, white)) where specificity is required"
    - "The token spec covers all 18 components: button, dialog, input, textarea, select, checkbox, radio, switch, calendar, date-picker, date-range-picker, time-picker, tooltip, popover, toast, accordion, tabs, data-table"
  artifacts:
    - path: ".planning/phases/69-theme-foundation/THEME-SPEC.md"
      provides: "Authoritative token reference for v8.0 polish phases"
      contains: "## Token Reference"
    - path: "packages/core/src/styles/tailwind.css"
      provides: "Complete --ui-* token defaults for all 18 components"
      contains: "--ui-button-radius"
  key_links:
    - from: ".planning/phases/69-theme-foundation/THEME-SPEC.md"
      to: "packages/core/src/styles/tailwind.css"
      via: "THEME-SPEC documents values sourced from :root block"
      pattern: "--ui-"
    - from: "phases 70-87 PLAN.md files"
      to: ".planning/phases/69-theme-foundation/THEME-SPEC.md"
      via: "@context reference in each downstream plan"
      pattern: "THEME-SPEC"
---

<objective>
Establish the authoritative monochrome design token baseline and write the THEME-SPEC reference document that all 18 subsequent component polish phases will use.

Purpose: Phases 70-87 must agree on what "matching the shadcn monochrome theme" means. This plan produces the single source of truth. Without it, each component phase would interpret the theme independently, producing an inconsistent result.

Output:
1. `packages/core/src/styles/tailwind.css` — `:root` block audited and finalized with correct shadcn-quality defaults for all --ui-* tokens
2. `.planning/phases/69-theme-foundation/THEME-SPEC.md` — human-readable reference listing every --ui-* token, its value, and what visual property it controls
</objective>

<execution_context>
@/Users/sn0w/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sn0w/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@packages/core/src/styles/tailwind.css
@packages/core/src/tokens/index.ts

## Key constraints (from STATE.md decisions)
- v8.0 is polish-only — no new components, no breaking CSS API changes
- Preserve existing `--ui-*` token names; only update default VALUES
- Target aesthetic: neutral-gray, shadcn-quality (monochrome, not colorful)

## What shadcn monochrome looks like (reference values)
These concrete values are the target. All components should feel like they belong to the same system:

**Color scale (light mode):**
- Background: white / oklch(1 0 0)
- Foreground: oklch(0.145 0 0) — near-black
- Border: oklch(0.922 0 0) — light gray
- Muted: oklch(0.97 0 0) — very light gray
- Muted foreground: oklch(0.556 0 0) — mid gray
- Primary: oklch(0.205 0 0) — dark near-black
- Primary foreground: white
- Card: white
- Ring: oklch(0.205 0 0) — same as primary

**Radius:** 0.625rem (default `--radius` in shadcn) mapped to:
- sm: 0.375rem (radius-sm = calc(--radius - 4px))
- md: 0.5rem (radius-md = calc(--radius - 2px))
- lg: 0.625rem (radius-lg = --radius, the base)
- xl: 0.875rem

**Shadows (shadcn-quality, very subtle):**
- sm: 0 1px 2px 0 rgb(0 0 0 / 0.05)
- md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)
- lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)

**Transitions:** 150ms ease for interactive elements, 200ms for panels/drawers

**Border width:** 1px for inputs/buttons, 2px for checkboxes/radios

**Focus ring:** 2px offset ring using primary color (near-black in light, near-white in dark)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Audit and align tailwind.css token defaults to shadcn monochrome spec</name>
  <files>packages/core/src/styles/tailwind.css</files>
  <action>
Read the entire `:root` block in `packages/core/src/styles/tailwind.css` and cross-check every `--ui-*` component token against the shadcn monochrome aesthetic described in the context.

Audit criteria — fix any token that deviates from:
1. **Border radius consistency**: Component radii should use consistent values from the scale. Form inputs (input, textarea, select, checkbox) → 0.375rem. Cards/overlays (dialog, popover, toast) → 0.5rem. Fully rounded elements (switch track, radio dot) → 9999px.
2. **Shadow subtlety**: Overlay shadows should be subtle, not heavy. Dialog/popover use 0 10px 15px -3px rgb(0 0 0 / 0.1). Dropdown/tooltip use 0 4px 6px -1px rgb(0 0 0 / 0.07).
3. **Transition timing**: All interactive components should use 150ms. Panel animations (accordion, overlay open) use 200ms.
4. **Color token consistency**: Where tokens reference semantic colors via var(--color-*, var(--ui-color-*)), this is correct. Where tokens use hardcoded OKLCH values directly (instead of referencing semantics), check they match the intended semantic role.
5. **Missing tokens**: Verify no component used in phases 70-87 is missing tokens that its CSS implementation will need. The token list in `tokens/index.ts` shows what's already mapped.

Specifically check these components that may be under-specified:
- button: verify all 5 variant colors (primary, secondary, outline, ghost, destructive) have complete token sets
- dialog: verify backdrop color, border token presence
- checkbox: verify all state tokens (unchecked, checked, indeterminate, disabled, error)
- radio: verify all state tokens
- switch: verify track/thumb tokens for all states

Update values in-place. DO NOT rename tokens. DO NOT add tokens for components that already work. DO NOT change the @theme block or .dark block (those are already audited).

After updating, verify the file still has valid CSS by checking for syntax errors:
```
pnpm --filter @lit-ui/core build 2>&1 | tail -20
```
  </action>
  <verify>
    <automated>cd /Users/sn0w/Documents/dev/lit-components && pnpm --filter @lit-ui/core build 2>&1 | tail -5</automated>
  </verify>
  <done>
    - tailwind.css `:root` block has correct default values for all 18 component token groups
    - Core package builds without errors
    - No token names were changed (only values)
  </done>
</task>

<task type="auto">
  <name>Task 2: Write THEME-SPEC.md — the authoritative token reference document</name>
  <files>.planning/phases/69-theme-foundation/THEME-SPEC.md</files>
  <action>
Create `.planning/phases/69-theme-foundation/THEME-SPEC.md` as the canonical reference that phases 70-87 will `@` reference in their plan context sections.

The document must be precise and concrete — no vague descriptions. Every token listed must have its exact default value from `packages/core/src/styles/tailwind.css` after Task 1.

Structure the document as follows:

```markdown
# Theme Specification — v8.0 Monochrome Design Token Reference

## Purpose
This document is the authoritative spec for the v8.0 monochrome design system polish.
Phases 70-87 reference this document to determine what "matching the monochrome shadcn theme" means for each component.

## Design Principles
1. Monochrome neutral gray palette — no brand colors in defaults
2. Subtle shadows — components feel lightweight, not heavy
3. Consistent radius scale — form elements at 0.375rem, overlays at 0.5rem
4. 150ms transitions for interactive elements
5. Focus rings use the primary color (near-black in light, near-white in dark)
6. Light mode: white backgrounds, near-black text, light-gray borders

## Semantic Color Scale (Light Mode Defaults)
| Token | Value | Use |
|-------|-------|-----|
| --ui-color-primary | oklch(0.18 0 0) | Primary action, selected states |
| --ui-color-primary-foreground | oklch(0.985 0 0) | Text on primary |
| --ui-color-foreground | oklch(0.13 0.028 261.692) | Body text |
| --ui-color-border | oklch(0.928 0.006 264.531) | Borders, dividers |
| --ui-color-muted | oklch(0.967 0.003 264.542) | Muted backgrounds |
| --ui-color-muted-foreground | oklch(0.551 0.027 264.364) | Placeholder, helper text |
| --ui-color-ring | oklch(0.10 0 0) | Focus ring color |
| --ui-color-card | white | Card/overlay surfaces |

## Global Layout Tokens
| Token | Value | Use |
|-------|-------|-----|
| --ui-focus-ring-width | 2px | Focus ring thickness |
| --ui-focus-ring-offset | 2px | Focus ring offset |
| --ui-contrast-threshold | 0.7 | Auto-contrast calc threshold |

## Component Token Reference
[For each of the 18 components, list every --ui-{component}-* token with its exact value and visual meaning]
```

For each component section, use this format:
```markdown
### Button (--ui-button-*)
Layout: radius=0.375rem, border-width=1px, shadow=none
Typography: font-weight=500, font-size-sm=0.875rem, font-size-md=1rem, font-size-lg=1.125rem
Spacing: padding-x-md=1rem, padding-y-md=0.5rem, gap-md=0.5rem (scale similarly for sm/lg)
Variants:
  - primary: bg=var(--color-primary), text=var(--color-primary-foreground)
  - secondary: bg=var(--color-secondary), text=var(--color-secondary-foreground)
  - outline: bg=transparent, border=var(--color-border), hover-bg=var(--color-accent)
  - ghost: bg=transparent, text=var(--color-foreground), hover-bg=var(--color-accent)
  - destructive: bg=var(--color-destructive), text=white
```

Cover ALL 18 components in this order:
1. Button (--ui-button-*)
2. Dialog (--ui-dialog-*)
3. Input (--ui-input-*)
4. Textarea (--ui-textarea-*)
5. Select (--ui-select-*)
6. Checkbox (--ui-checkbox-*)
7. Radio (--ui-radio-*)
8. Switch (--ui-switch-*)
9. Calendar (--ui-calendar-*)
10. Tooltip (--ui-tooltip-*)
11. Popover (--ui-popover-*)
12. Toast (--ui-toast-*)
13. Accordion (--ui-accordion-*)
14. Tabs (--ui-tabs-*)
15. Time Picker (--ui-time-picker-*)
16. Date Picker (--ui-date-picker-*)
17. Date Range Picker (--ui-date-range-*)
18. Data Table (--ui-data-table-*)

At the end of each component section, add a "What 'matching the theme' means" bullet list — this is what phases 70-87 read to know if their CSS is correct. Example:

**Button — what matching means:**
- All 5 variants render with the values above (not custom colors)
- Hover states use opacity: 0.9 for primary/destructive, bg swap for secondary/outline/ghost
- Focus ring: 2px ring with 2px offset using var(--ui-color-ring)
- Disabled: opacity 0.5, cursor-not-allowed
- Sizes: sm/md/lg use the token-defined padding/font-size values

Extract the actual values from `packages/core/src/styles/tailwind.css` (post-Task-1). Do not invent values — read the file and document what is there.
  </action>
  <verify>
    <automated>test -f /Users/sn0w/Documents/dev/lit-components/.planning/phases/69-theme-foundation/THEME-SPEC.md && grep -c "^###" /Users/sn0w/Documents/dev/lit-components/.planning/phases/69-theme-foundation/THEME-SPEC.md</automated>
  </verify>
  <done>
    - THEME-SPEC.md exists in `.planning/phases/69-theme-foundation/`
    - File contains at least 18 `###` component sections
    - Each section lists concrete token values (not abstract descriptions)
    - Each section has a "what matching means" summary
    - The file can be directly referenced in phases 70-87 plan context sections
  </done>
</task>

</tasks>

<verification>
1. `pnpm --filter @lit-ui/core build` passes — no CSS syntax errors introduced
2. `THEME-SPEC.md` exists with 18+ component sections (verified by grep -c "^###")
3. THEME-SPEC lists exact `--ui-*` values matching `tailwind.css` `:root` block (spot-check 3 components)
4. No `--ui-*` token names changed (git diff shows only value changes if any)
</verification>

<success_criteria>
- A token reference doc exists at `.planning/phases/69-theme-foundation/THEME-SPEC.md` covering all 18 components with concrete CSS custom property values
- `tailwind.css` `:root` block defaults are verified/aligned to shadcn monochrome aesthetic
- Core package builds clean
- Any component phase executor can read THEME-SPEC.md and know exactly what token values to implement against without ambiguity
</success_criteria>

<output>
After completion, create `.planning/phases/69-theme-foundation/69-01-SUMMARY.md` using the summary template.
</output>
