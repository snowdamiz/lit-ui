---
phase: 71-dialog
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - packages/core/src/styles/tailwind.css
autonomous: true
requirements: [DLG-01]

must_haves:
  truths:
    - "Dialog renders with card-surface (white) background in light mode via semantic token cascade"
    - "Dialog dark mode tokens inherit from semantic .dark overrides — no hardcoded oklch values in the .dark block for --ui-dialog-*"
    - "Dialog color tokens in :root use the double-fallback pattern: var(--color-card, var(--ui-color-card))"
    - "Dialog token defaults in :root match the THEME-SPEC.md values exactly"
  artifacts:
    - path: "packages/core/src/styles/tailwind.css"
      provides: "Dialog CSS tokens in :root and cleaned-up .dark block"
      contains: "--ui-dialog-bg"
  key_links:
    - from: "packages/core/src/styles/tailwind.css (.dark block)"
      to: "Semantic dark tokens (.dark { --color-card, --color-card-foreground, --color-muted-foreground })"
      via: "double-fallback var(--color-card, var(--ui-color-card))"
      pattern: "ui-dialog-bg.*var\\(--color-"
---

<objective>
Polish the Dialog component CSS defaults in tailwind.css to match the v8.0 monochrome shadcn theme per THEME-SPEC.md by removing redundant hardcoded dialog dark mode overrides.

Purpose: The .dark block in tailwind.css contains 3 hardcoded oklch values for dialog tokens (--ui-dialog-bg, --ui-dialog-text, --ui-dialog-body-color) instead of relying on the semantic dark mode overrides. The :root dialog tokens use the double-fallback pattern (var(--color-card, var(--ui-color-card))), and the .dark block already overrides --color-card to oklch(0.18 0 0) (near-black card surface). The explicit .dark dialog overrides are redundant and bypass the semantic token layer — same issue as buttons in Phase 70-01.

Output: The .dark block no longer overrides dialog color tokens. The :root dialog token defaults remain correct and match THEME-SPEC.md.
</objective>

<execution_context>
@/Users/sn0w/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sn0w/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/69-theme-foundation/THEME-SPEC.md
@.planning/phases/70-button/70-01-SUMMARY.md

<interfaces>
<!-- Current state of dialog tokens in tailwind.css. Executor should verify these before editing. -->

From packages/core/src/styles/tailwind.css (:root block, correct — matches THEME-SPEC):
```css
/* Layout */
--ui-dialog-radius: 0.5rem; /* --radius-lg */
--ui-dialog-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1); /* --shadow-lg */
--ui-dialog-padding: 1.5rem; /* --spacing-6 */
--ui-dialog-max-width-sm: 24rem;
--ui-dialog-max-width-md: 28rem;
--ui-dialog-max-width-lg: 32rem;

/* Colors — double-fallback pattern (CORRECT) */
--ui-dialog-bg: var(--color-card, var(--ui-color-card));
--ui-dialog-text: var(--color-card-foreground, var(--ui-color-card-foreground));
--ui-dialog-backdrop: rgba(0, 0, 0, 0.5);

/* Typography */
--ui-dialog-title-size: 1.125rem;
--ui-dialog-title-weight: 600;
--ui-dialog-body-color: var(--color-muted-foreground, var(--ui-color-muted-foreground));

/* Spacing */
--ui-dialog-header-margin: 1rem;
--ui-dialog-footer-margin: 1.5rem;
--ui-dialog-footer-gap: 0.75rem;
```

From packages/core/src/styles/tailwind.css (.dark block, PROBLEMATIC — needs removal):
```css
/* Dialog dark mode */
--ui-dialog-bg: oklch(0.18 0 0);
--ui-dialog-text: oklch(0.985 0 0);
--ui-dialog-body-color: oklch(0.71 0 0);
```

Why these should be removed: The .dark semantic block already defines --color-card as oklch(0.18 0 0) (near-black card surface), --color-card-foreground as oklch(0.985 0 0) (near-white), and --color-muted-foreground as oklch(0.71 0 0) (mid-gray). The :root dialog color tokens use var(--color-card, var(--ui-color-card)), etc. When .dark overrides --color-card, the dialog bg token automatically picks up the dark value. The explicit .dark dialog overrides are redundant and hardcoded — violating the double-fallback contract established for this project.

The same pattern was established in Phase 70-01 for button tokens. Dialog follows identically.
</interfaces>
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove hardcoded dialog tokens from .dark block in tailwind.css</name>
  <files>packages/core/src/styles/tailwind.css</files>
  <action>
In packages/core/src/styles/tailwind.css, find the .dark block. Locate the "/* Dialog dark mode */" comment and the 3 lines of hardcoded --ui-dialog-* overrides below it (--ui-dialog-bg: oklch(0.18 0 0), --ui-dialog-text: oklch(0.985 0 0), --ui-dialog-body-color: oklch(0.71 0 0)).

Remove the entire "/* Dialog dark mode */" comment and all 3 --ui-dialog-* property lines from the .dark block.

These overrides are redundant: the .dark block already overrides --color-card to oklch(0.18 0 0), --color-card-foreground to oklch(0.985 0 0), and --color-muted-foreground to oklch(0.71 0 0). The :root dialog tokens use the double-fallback pattern var(--color-card, var(--ui-color-card)), so they automatically pick up the dark semantic values without explicit dialog token overrides.

Do NOT modify the :root block — it is correct and matches THEME-SPEC.md. Do NOT modify dialog.ts — the component CSS is correct.

After editing, verify the .dark block no longer contains any --ui-dialog-* declarations.
  </action>
  <verify>
    <automated>grep -c "ui-dialog-bg: oklch" /Users/sn0w/Documents/dev/lit-components/packages/core/src/styles/tailwind.css</automated>
  </verify>
  <done>Running the grep command returns 0. The .dark block contains no --ui-dialog-* declarations. The :root block still has all dialog tokens using double-fallback pattern. Dialog dark mode appearance is now governed by the semantic .dark overrides (--color-card → near-black, etc.).</done>
</task>

</tasks>

<verification>
1. Run: `grep -n "ui-dialog" packages/core/src/styles/tailwind.css` — all results should be in the `:root` block only, not in the `.dark` block
2. Run: `grep -c "ui-dialog-bg: oklch" packages/core/src/styles/tailwind.css` — should output `0`
3. Run: `grep "ui-dialog-bg" packages/core/src/styles/tailwind.css` — should show only the :root entry with `var(--color-card, var(--ui-color-card))`
</verification>

<success_criteria>
- The .dark block no longer contains any --ui-dialog-* properties
- The :root block dialog tokens remain intact and match THEME-SPEC.md
- Dialog dark mode appearance is now governed entirely by the semantic .dark overrides (--color-card → near-black in dark mode)
- DLG-01 satisfied: Dialog default styles match the v8.0 monochrome theme via the correct token inheritance chain
</success_criteria>

<output>
After completion, create `.planning/phases/71-dialog/71-01-SUMMARY.md` with what was changed, why, and the before/after for the .dark block removal.
</output>
