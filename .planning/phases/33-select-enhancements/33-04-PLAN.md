---
phase: 33-select-enhancements
plan: 04
type: execute
wave: 3
depends_on: ["33-03"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "All Phase 33 success criteria verified"
    - "Option groups display with visual grouping and accessible labels"
    - "Custom content slots render icons and descriptions correctly"
    - "Clearable select resets to placeholder on X click"
    - "Screen reader correctly announces groups and clear button"
  artifacts: []
  key_links: []
---

<objective>
Human verification checkpoint for Phase 33 Select Enhancements. Verify all features work correctly: option groups, custom content via slots, and clearable select.

Purpose: Confirm SELECT-13, SELECT-14, SELECT-15, and A11Y-05 requirements are met before marking phase complete.

Output: Human confirmation that all features work as expected, or list of issues to address.
</objective>

<execution_context>
@/Users/sn0w/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sn0w/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/33-select-enhancements/33-01-SUMMARY.md
@.planning/phases/33-select-enhancements/33-02-SUMMARY.md
@.planning/phases/33-select-enhancements/33-03-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create demo page for Phase 33 features</name>
  <files>apps/docs/pages/select-demo.html (or update existing demo)</files>
  <action>
Create or update a demo page that showcases all Phase 33 features. Add these examples:

1. **Option Groups**:
   ```html
   <lui-select label="Notification Preference">
     <lui-option-group label="Immediate">
       <lui-option value="push">Push notification</lui-option>
       <lui-option value="sms">SMS</lui-option>
     </lui-option-group>
     <lui-option-group label="Delayed">
       <lui-option value="email">Email</lui-option>
       <lui-option value="digest">Daily digest</lui-option>
     </lui-option-group>
   </lui-select>
   ```

2. **Custom Content with Icons**:
   ```html
   <lui-select label="Contact Method">
     <lui-option value="email">
       <svg slot="start" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
         <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
         <polyline points="22,6 12,13 2,6"/>
       </svg>
       Email
       <span slot="description">Receive updates via email</span>
     </lui-option>
     <lui-option value="phone">
       <svg slot="start" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
         <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
       </svg>
       Phone
       <span slot="description">Call for urgent matters</span>
     </lui-option>
   </lui-select>
   ```

3. **Clearable Select**:
   ```html
   <lui-select label="Country" clearable .options=${[
     { value: 'us', label: 'United States' },
     { value: 'ca', label: 'Canada' },
     { value: 'uk', label: 'United Kingdom' },
     { value: 'au', label: 'Australia' }
   ]}></lui-select>
   ```

4. **Combined: Clearable with Groups**:
   ```html
   <lui-select label="Category" clearable>
     <lui-option-group label="Electronics">
       <lui-option value="phones">Phones</lui-option>
       <lui-option value="laptops">Laptops</lui-option>
     </lui-option-group>
     <lui-option-group label="Clothing">
       <lui-option value="shirts">Shirts</lui-option>
       <lui-option value="pants">Pants</lui-option>
     </lui-option-group>
   </lui-select>
   ```

If demo page location differs, find existing select demo and add these examples there.
  </action>
  <verify>
Demo page loads without errors.
All example selects render correctly.
  </verify>
  <done>
Demo page created/updated with all Phase 33 feature examples.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Phase 33 Select Enhancements complete:
- Option groups with lui-option-group component
- Custom content via start/end/description slots in lui-option
- Clearable select with X button
- Full keyboard navigation and ARIA compliance
  </what-built>
  <how-to-verify>
Start dev server: `pnpm dev` (from project root or apps/docs)

Visit the select demo page and verify:

**1. Option Groups (SELECT-13, A11Y-05):**
- [ ] Groups display with header labels (e.g., "Immediate", "Delayed")
- [ ] Visual separator line between groups
- [ ] Arrow key navigation skips group headers (only stops on options)
- [ ] VoiceOver: Enable VoiceOver, navigate groups, verify group name announced when entering group

**2. Custom Content via Slots (SELECT-14):**
- [ ] Icons render in start slot (before option label)
- [ ] Descriptions render below option label in smaller muted text
- [ ] Selection displays correctly (shows label, not icon)
- [ ] Keyboard navigation and type-ahead work with custom content options

**3. Clearable Select (SELECT-15):**
- [ ] X button appears only when value is selected
- [ ] Clicking X clears selection (shows placeholder)
- [ ] Clicking X does NOT open the dropdown
- [ ] After clearing, focus remains on trigger
- [ ] Delete or Backspace key clears selection when trigger is focused
- [ ] X button hidden when select is disabled

**4. Backwards Compatibility:**
- [ ] Selects using options property still work unchanged
- [ ] Form submission works correctly with all variants

**5. Accessibility:**
- [ ] Screen reader announces "Clear selection" for clear button
- [ ] Screen reader announces group labels when navigating
- [ ] All keyboard patterns from Phase 32 still work
  </how-to-verify>
  <resume-signal>
Type "approved" if all checks pass.
If issues found, describe them and type "issues: [description]".
  </resume-signal>
</task>

<task type="auto">
  <name>Task 3: Create phase summary</name>
  <files>.planning/phases/33-select-enhancements/33-04-SUMMARY.md</files>
  <action>
After human verification passes, create the summary document:

```markdown
---
phase: 33-select-enhancements
plan: 04
subsystem: ui
tags: [lit, web-components, select, verification, accessibility]

# Dependency graph
requires:
  - phase: 33-03
    provides: All Phase 33 features implemented
provides:
  - Human-verified Select Enhancements

# Metrics
duration: Xmin
completed: YYYY-MM-DD
---

# Phase 33 Plan 04: Final Verification Summary

**Human verification of Phase 33 Select Enhancements**

## Performance

- **Duration:** X min
- **Completed:** YYYY-MM-DD

## Verification Results

All Phase 33 features verified:

- [x] Option groups with visual grouping and ARIA labels
- [x] Custom content via slots (icons, descriptions)
- [x] Clearable select with X button
- [x] Keyboard navigation preserved
- [x] Screen reader compatibility verified

## Phase 33 Complete

Phase 33 adds three enhancement features to lui-select:
1. **lui-option-group** - Groups options under labeled headers with proper ARIA
2. **Slot-based options** - lui-option supports start, end, and description slots
3. **Clearable** - X button resets selection to placeholder state

Ready for Phase 34 (Multi-Select).
```
  </action>
  <verify>Summary file created.</verify>
  <done>Phase 33 verification summary complete.</done>
</task>

</tasks>

<verification>
Human has verified all Phase 33 features work correctly:
- Option groups display and navigate properly
- Custom content renders in slots
- Clearable select functions as expected
- Accessibility verified with screen reader
</verification>

<success_criteria>
- Human confirms "approved"
- All Phase 33 success criteria from ROADMAP verified
- No blocking issues identified
</success_criteria>

<output>
After completion, create `.planning/phases/33-select-enhancements/33-04-SUMMARY.md`
</output>
