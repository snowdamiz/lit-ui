---
phase: 19-publishing
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - packages/core/package.json
  - packages/button/package.json
  - packages/dialog/package.json
  - packages/ssr/package.json
  - packages/cli/package.json
  - .changeset/config.json
autonomous: true

must_haves:
  truths:
    - "All publishable packages have repository field linking to GitHub"
    - "All publishable packages have proper author, license, description"
    - "@lit-ui/ssr included in lockstep versioning"
  artifacts:
    - path: "packages/core/package.json"
      provides: "Package metadata with repository field"
      contains: "repository"
    - path: ".changeset/config.json"
      provides: "Updated fixed array with SSR package"
      contains: "@lit-ui/ssr"
  key_links:
    - from: "packages/*/package.json"
      to: "GitHub repository"
      via: "repository.url field"
      pattern: "github.com"
---

<objective>
Add npm publishing metadata to all package.json files.

Purpose: npm package pages display repository links, author, description from package.json. Missing metadata causes poor discoverability and broken provenance.
Output: All packages ready for npm publish with proper metadata.
</objective>

<execution_context>
@/Users/sn0w/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sn0w/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/19-publishing/19-CONTEXT.md
@.planning/phases/19-publishing/19-RESEARCH.md
@packages/core/package.json
@packages/button/package.json
@packages/dialog/package.json
@packages/ssr/package.json
@packages/cli/package.json
@.changeset/config.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add metadata to publishable packages</name>
  <files>
    packages/core/package.json
    packages/button/package.json
    packages/dialog/package.json
    packages/ssr/package.json
    packages/cli/package.json
  </files>
  <action>
Add the following fields to each package.json:

**For @lit-ui/core, @lit-ui/button, @lit-ui/dialog, @lit-ui/ssr:**
```json
{
  "description": "[package-specific description]",
  "author": "",
  "license": "MIT",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/user/lit-ui.git",
    "directory": "packages/[name]"
  },
  "keywords": ["lit", "web-components", "ui", "tailwind", "ssr"]
}
```

Descriptions:
- @lit-ui/core: "SSR-aware base component and utilities for Lit web components with Tailwind styling"
- @lit-ui/button: "Accessible button component built with Lit and Tailwind CSS"
- @lit-ui/dialog: "Accessible dialog/modal component built with Lit and Tailwind CSS"
- @lit-ui/ssr: "Server-side rendering utilities for @lit-ui components"

**For lit-ui CLI:**
Add repository field (already has keywords, license):
```json
{
  "repository": {
    "type": "git",
    "url": "git+https://github.com/user/lit-ui.git",
    "directory": "packages/cli"
  }
}
```

Note: Use placeholder "user" for GitHub username - will be updated when actual repo URL is known.
  </action>
  <verify>
Check each package.json has required fields:
```bash
for pkg in core button dialog ssr cli; do
  echo "=== $pkg ==="
  cat packages/$pkg/package.json | grep -E '"(repository|description|license|author)"' || echo "MISSING FIELDS"
done
```
  </verify>
  <done>All 5 publishable packages have repository, description, license, author fields</done>
</task>

<task type="auto">
  <name>Task 2: Add @lit-ui/ssr to changeset fixed array</name>
  <files>.changeset/config.json</files>
  <action>
Update the fixed array in .changeset/config.json to include @lit-ui/ssr:

Before:
```json
"fixed": [["@lit-ui/core", "@lit-ui/button", "@lit-ui/dialog"]]
```

After:
```json
"fixed": [["@lit-ui/core", "@lit-ui/button", "@lit-ui/dialog", "@lit-ui/ssr"]]
```

This ensures all @lit-ui packages version together in lockstep (per CONTEXT.md decision).

Note: lit-ui CLI is NOT in the fixed array - it can version independently since it's a tooling package, not a runtime dependency.
  </action>
  <verify>
```bash
cat .changeset/config.json | grep -A1 '"fixed"'
```
Should show array with 4 packages including @lit-ui/ssr.
  </verify>
  <done>@lit-ui/ssr in fixed array alongside core, button, dialog</done>
</task>

</tasks>

<verification>
1. All package.json files have repository field with directory subpath
2. All packages have MIT license and description
3. .changeset/config.json fixed array contains all 4 @lit-ui packages
4. Build still works: `pnpm build`
</verification>

<success_criteria>
- `cat packages/*/package.json | grep -c repository` returns 5 (all packages)
- `cat .changeset/config.json` shows @lit-ui/ssr in fixed array
- `pnpm build` succeeds
</success_criteria>

<output>
After completion, create `.planning/phases/19-publishing/19-01-SUMMARY.md`
</output>
