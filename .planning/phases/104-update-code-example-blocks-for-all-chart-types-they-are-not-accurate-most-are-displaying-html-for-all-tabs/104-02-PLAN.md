---
phase: 104-update-code-example-blocks-for-all-chart-types-they-are-not-accurate-most-are-displaying-html-for-all-tabs
plan: "02"
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/docs/src/pages/charts/ScatterChartPage.tsx
  - apps/docs/src/pages/charts/HeatmapChartPage.tsx
  - apps/docs/src/pages/charts/CandlestickChartPage.tsx
  - apps/docs/src/pages/charts/TreemapChartPage.tsx
autonomous: true
requirements: []

must_haves:
  truths:
    - "The React tab in ScatterChartPage shows useRef+useEffect code with [x, y] tuple data"
    - "The Vue tab in HeatmapChartPage sets xCategories, yCategories, and data via chart.value.* in onMounted"
    - "The Svelte tab in CandlestickChartPage includes the OHLC order warning comment"
    - "All 4 framework tabs in TreemapChartPage show hierarchical data with children property"
    - "The candlestick HTML example does NOT include enable-webgpu (kept clean for basic example)"
  artifacts:
    - path: "apps/docs/src/pages/charts/ScatterChartPage.tsx"
      provides: "4 separate per-framework code strings for ExampleBlock"
      contains: "scatterChartReact"
    - path: "apps/docs/src/pages/charts/HeatmapChartPage.tsx"
      provides: "4 separate per-framework code strings for ExampleBlock, all setting 3 properties"
      contains: "heatmapChartReact"
    - path: "apps/docs/src/pages/charts/CandlestickChartPage.tsx"
      provides: "4 separate per-framework code strings for ExampleBlock with OHLC warning"
      contains: "candlestickChartReact"
    - path: "apps/docs/src/pages/charts/TreemapChartPage.tsx"
      provides: "4 separate per-framework code strings for ExampleBlock with hierarchical data"
      contains: "treemapChartReact"
  key_links:
    - from: "heatmapChartReact / heatmapChartVue / heatmapChartSvelte"
      to: "ExampleBlock react/vue/svelte props"
      via: "distinct variable per prop — all 3 assign xCategories, yCategories, data"
      pattern: "xCategories"
    - from: "candlestick OHLC warning comment"
      to: "all 4 framework strings"
      via: "inline code comment in each string"
      pattern: "ohlc.*open.*close.*low.*high"
---

<objective>
Fix the ExampleBlock code examples in ScatterChartPage, HeatmapChartPage, CandlestickChartPage, and TreemapChartPage so each framework tab (HTML, React, Vue, Svelte) shows idiomatic code for that framework instead of the same HTML string repeated.

Purpose: These 4 charts have more unique data shapes (tuples, multiple properties, OHLC order, nested hierarchies) that particularly confuse developers when they see HTML-only examples.
Output: 4 updated .tsx files, each with 4 distinct code strings correctly wired to ExampleBlock.
</objective>

<execution_context>
@/Users/sn0w/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sn0w/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/104-update-code-example-blocks-for-all-chart-types-they-are-not-accurate-most-are-displaying-html-for-all-tabs/104-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fix Scatter and Heatmap chart page code examples</name>
  <files>
    apps/docs/src/pages/charts/ScatterChartPage.tsx
    apps/docs/src/pages/charts/HeatmapChartPage.tsx
  </files>
  <action>
In ScatterChartPage.tsx:

Replace `scatterChartHtmlCode` with 4 variables. Scatter data is `[number, number][]` — NO `{ name, data }` wrapper:

```typescript
const scatterChartHtml = `<!-- Set data via JavaScript property (not attribute) -->
<lui-scatter-chart id="chart"></lui-scatter-chart>
<script>
  document.querySelector('#chart').data = [
    [10, 20],
    [30, 50],
    [15, 35],
    [50, 80],
    [45, 60],
  ];
</script>`;

const scatterChartReact = `import { useEffect, useRef } from 'react';
import '@lit-ui/charts/scatter-chart';

export function MyScatterChart() {
  const ref = useRef(null);
  useEffect(() => {
    if (ref.current) {
      ref.current.data = [
        [10, 20],
        [30, 50],
        [15, 35],
        [50, 80],
        [45, 60],
      ];
    }
  }, []);
  return <lui-scatter-chart ref={ref} style={{ height: '300px', display: 'block' }} />;
}`;

const scatterChartVue = `<template>
  <lui-scatter-chart ref="chart" style="height: 300px; display: block" />
</template>

<script setup>
import { ref, onMounted } from 'vue';
import '@lit-ui/charts/scatter-chart';

const chart = ref(null);
onMounted(() => {
  chart.value.data = [
    [10, 20],
    [30, 50],
    [15, 35],
    [50, 80],
    [45, 60],
  ];
});
</script>`;

const scatterChartSvelte = `<script>
  import { onMount } from 'svelte';
  import '@lit-ui/charts/scatter-chart';

  let chart;
  onMount(() => {
    chart.data = [
      [10, 20],
      [30, 50],
      [15, 35],
      [50, 80],
      [45, 60],
    ];
  });
</script>

<lui-scatter-chart bind:this={chart} style="height: 300px; display: block" />`;
```

Update ExampleBlock to pass each variable to its matching prop.

In HeatmapChartPage.tsx:

Heatmap is the most complex — it requires 3 separate property assignments (`xCategories`, `yCategories`, `data`). All framework variants must assign all 3 properties. Replace `heatmapChartHtmlCode` with 4 variables:

```typescript
const heatmapChartHtml = `<!-- Set xCategories, yCategories, and data via JavaScript properties -->
<lui-heatmap-chart id="chart"></lui-heatmap-chart>
<script>
  const chart = document.querySelector('#chart');
  chart.xCategories = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri'];
  chart.yCategories = ['Morning', 'Afternoon', 'Evening'];
  chart.data = [
    [0, 0, 85],
    [1, 1, 42],
    [2, 2, 62],
  ];
</script>`;

const heatmapChartReact = `import { useEffect, useRef } from 'react';
import '@lit-ui/charts/heatmap-chart';

export function MyHeatmapChart() {
  const ref = useRef(null);
  useEffect(() => {
    if (ref.current) {
      ref.current.xCategories = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri'];
      ref.current.yCategories = ['Morning', 'Afternoon', 'Evening'];
      ref.current.data = [
        [0, 0, 85],
        [1, 1, 42],
        [2, 2, 62],
      ];
    }
  }, []);
  return <lui-heatmap-chart ref={ref} style={{ height: '300px', display: 'block' }} />;
}`;

const heatmapChartVue = `<template>
  <lui-heatmap-chart ref="chart" style="height: 300px; display: block" />
</template>

<script setup>
import { ref, onMounted } from 'vue';
import '@lit-ui/charts/heatmap-chart';

const chart = ref(null);
onMounted(() => {
  chart.value.xCategories = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri'];
  chart.value.yCategories = ['Morning', 'Afternoon', 'Evening'];
  chart.value.data = [
    [0, 0, 85],
    [1, 1, 42],
    [2, 2, 62],
  ];
});
</script>`;

const heatmapChartSvelte = `<script>
  import { onMount } from 'svelte';
  import '@lit-ui/charts/heatmap-chart';

  let chart;
  onMount(() => {
    chart.xCategories = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri'];
    chart.yCategories = ['Morning', 'Afternoon', 'Evening'];
    chart.data = [
      [0, 0, 85],
      [1, 1, 42],
      [2, 2, 62],
    ];
  });
</script>

<lui-heatmap-chart bind:this={chart} style="height: 300px; display: block" />`;
```

Update ExampleBlock in both files to pass distinct variables.

Do NOT change anything else in these files.
  </action>
  <verify>
    <automated>grep -n "scatterChartReact\|scatterChartVue\|scatterChartSvelte\|heatmapChartReact\|heatmapChartVue\|heatmapChartSvelte" /Users/sn0w/Documents/dev/lit-components/apps/docs/src/pages/charts/ScatterChartPage.tsx /Users/sn0w/Documents/dev/lit-components/apps/docs/src/pages/charts/HeatmapChartPage.tsx | wc -l</automated>
  </verify>
  <done>Both files have 3 new variables each. ExampleBlock calls reference 4 distinct variables. Heatmap variables all assign xCategories, yCategories, and data. grep returns at least 12 matches.</done>
</task>

<task type="auto">
  <name>Task 2: Fix Candlestick and Treemap chart page code examples</name>
  <files>
    apps/docs/src/pages/charts/CandlestickChartPage.tsx
    apps/docs/src/pages/charts/TreemapChartPage.tsx
  </files>
  <action>
In CandlestickChartPage.tsx:

Replace `candlestickChartHtmlCode` with 4 variables. Key requirements:
- Every string MUST include the OHLC order warning comment (`[open, close, low, high]`)
- The live demo uses `enable-webgpu` but the code examples should NOT include it (keep examples clean; the WebGPU feature is documented in the props table and callout box above)
- Data shape: `{ label: string; ohlc: [open, close, low, high]; volume?: number }[]`

```typescript
const candlestickChartHtml = `<!-- Set data via JavaScript property (not attribute) -->
<!-- IMPORTANT: ohlc order is [open, close, low, high] — NOT OHLC acronym order -->
<lui-candlestick-chart id="chart"></lui-candlestick-chart>
<script>
  document.querySelector('#chart').data = [
    { label: '2024-01-01', ohlc: [100, 110, 95, 115] },
    { label: '2024-01-02', ohlc: [110, 105, 102, 118] },
    { label: '2024-01-03', ohlc: [105, 120, 103, 125] },
    { label: '2024-01-04', ohlc: [120, 115, 112, 128] },
    { label: '2024-01-05', ohlc: [115, 130, 113, 135] },
  ];
</script>`;

const candlestickChartReact = `import { useEffect, useRef } from 'react';
import '@lit-ui/charts/candlestick-chart';

export function MyCandlestickChart() {
  const ref = useRef(null);
  useEffect(() => {
    if (ref.current) {
      // IMPORTANT: ohlc order is [open, close, low, high] — NOT OHLC acronym order
      ref.current.data = [
        { label: '2024-01-01', ohlc: [100, 110, 95, 115] },
        { label: '2024-01-02', ohlc: [110, 105, 102, 118] },
        { label: '2024-01-03', ohlc: [105, 120, 103, 125] },
        { label: '2024-01-04', ohlc: [120, 115, 112, 128] },
        { label: '2024-01-05', ohlc: [115, 130, 113, 135] },
      ];
    }
  }, []);
  return <lui-candlestick-chart ref={ref} style={{ height: '300px', display: 'block' }} />;
}`;

const candlestickChartVue = `<template>
  <lui-candlestick-chart ref="chart" style="height: 300px; display: block" />
</template>

<script setup>
import { ref, onMounted } from 'vue';
import '@lit-ui/charts/candlestick-chart';

const chart = ref(null);
onMounted(() => {
  // IMPORTANT: ohlc order is [open, close, low, high] — NOT OHLC acronym order
  chart.value.data = [
    { label: '2024-01-01', ohlc: [100, 110, 95, 115] },
    { label: '2024-01-02', ohlc: [110, 105, 102, 118] },
    { label: '2024-01-03', ohlc: [105, 120, 103, 125] },
    { label: '2024-01-04', ohlc: [120, 115, 112, 128] },
    { label: '2024-01-05', ohlc: [115, 130, 113, 135] },
  ];
});
</script>`;

const candlestickChartSvelte = `<script>
  import { onMount } from 'svelte';
  import '@lit-ui/charts/candlestick-chart';

  let chart;
  onMount(() => {
    // IMPORTANT: ohlc order is [open, close, low, high] — NOT OHLC acronym order
    chart.data = [
      { label: '2024-01-01', ohlc: [100, 110, 95, 115] },
      { label: '2024-01-02', ohlc: [110, 105, 102, 118] },
      { label: '2024-01-03', ohlc: [105, 120, 103, 125] },
      { label: '2024-01-04', ohlc: [120, 115, 112, 128] },
      { label: '2024-01-05', ohlc: [115, 130, 113, 135] },
    ];
  });
</script>

<lui-candlestick-chart bind:this={chart} style="height: 300px; display: block" />`;
```

In TreemapChartPage.tsx:

Replace `treemapChartHtmlCode` with 4 variables. Treemap uses hierarchical `{ name, value, children? }[]` data shape with `breadcrumb` attribute:

```typescript
const treemapChartHtml = `<!-- Set data via JavaScript property (not attribute) -->
<lui-treemap-chart id="chart" breadcrumb></lui-treemap-chart>
<script>
  document.querySelector('#chart').data = [
    {
      name: 'Electronics',
      value: 42,
      children: [
        { name: 'Phones', value: 25 },
        { name: 'Laptops', value: 17 },
      ],
    },
    {
      name: 'Clothing',
      value: 28,
      children: [
        { name: 'Shirts', value: 15 },
        { name: 'Pants', value: 13 },
      ],
    },
  ];
</script>`;

const treemapChartReact = `import { useEffect, useRef } from 'react';
import '@lit-ui/charts/treemap-chart';

export function MyTreemapChart() {
  const ref = useRef(null);
  useEffect(() => {
    if (ref.current) {
      ref.current.data = [
        {
          name: 'Electronics',
          value: 42,
          children: [
            { name: 'Phones', value: 25 },
            { name: 'Laptops', value: 17 },
          ],
        },
        {
          name: 'Clothing',
          value: 28,
          children: [
            { name: 'Shirts', value: 15 },
            { name: 'Pants', value: 13 },
          ],
        },
      ];
    }
  }, []);
  return <lui-treemap-chart ref={ref} breadcrumb style={{ height: '300px', display: 'block' }} />;
}`;

const treemapChartVue = `<template>
  <lui-treemap-chart ref="chart" breadcrumb style="height: 300px; display: block" />
</template>

<script setup>
import { ref, onMounted } from 'vue';
import '@lit-ui/charts/treemap-chart';

const chart = ref(null);
onMounted(() => {
  chart.value.data = [
    {
      name: 'Electronics',
      value: 42,
      children: [
        { name: 'Phones', value: 25 },
        { name: 'Laptops', value: 17 },
      ],
    },
    {
      name: 'Clothing',
      value: 28,
      children: [
        { name: 'Shirts', value: 15 },
        { name: 'Pants', value: 13 },
      ],
    },
  ];
});
</script>`;

const treemapChartSvelte = `<script>
  import { onMount } from 'svelte';
  import '@lit-ui/charts/treemap-chart';

  let chart;
  onMount(() => {
    chart.data = [
      {
        name: 'Electronics',
        value: 42,
        children: [
          { name: 'Phones', value: 25 },
          { name: 'Laptops', value: 17 },
        ],
      },
      {
        name: 'Clothing',
        value: 28,
        children: [
          { name: 'Shirts', value: 15 },
          { name: 'Pants', value: 13 },
        ],
      },
    ];
  });
</script>

<lui-treemap-chart bind:this={chart} breadcrumb style="height: 300px; display: block" />`;
```

Update ExampleBlock in both files to pass distinct variables.

Do NOT change anything else in these files (props tables, CSS vars, demo components, nav, callout boxes).
  </action>
  <verify>
    <automated>grep -n "candlestickChartReact\|candlestickChartVue\|candlestickChartSvelte\|treemapChartReact\|treemapChartVue\|treemapChartSvelte" /Users/sn0w/Documents/dev/lit-components/apps/docs/src/pages/charts/CandlestickChartPage.tsx /Users/sn0w/Documents/dev/lit-components/apps/docs/src/pages/charts/TreemapChartPage.tsx | wc -l</automated>
  </verify>
  <done>Both files have 3 new variables each. ExampleBlock calls reference 4 distinct variables. Candlestick variables include OHLC order warning comments. grep returns at least 12 matches.</done>
</task>

</tasks>

<verification>
After both tasks, verify the old pattern (same variable for all 4 tabs) is gone in all 4 files:

```bash
grep -rn "react={.*HtmlCode}\|vue={.*HtmlCode}\|svelte={.*HtmlCode}" \
  apps/docs/src/pages/charts/ScatterChartPage.tsx \
  apps/docs/src/pages/charts/HeatmapChartPage.tsx \
  apps/docs/src/pages/charts/CandlestickChartPage.tsx \
  apps/docs/src/pages/charts/TreemapChartPage.tsx
```

Expected: zero matches.

Also verify heatmap sets all 3 properties in the React variant:
```bash
grep -A5 "heatmapChartReact" apps/docs/src/pages/charts/HeatmapChartPage.tsx | grep "xCategories"
```
Expected: at least one match confirming xCategories is in the React string.
</verification>

<success_criteria>
- ScatterChartPage.tsx: ExampleBlock passes 4 distinct variables; all show `[x, y]` tuple data (NOT `{ name, data }` wrapper)
- HeatmapChartPage.tsx: ExampleBlock passes 4 distinct variables; all 4 strings assign `xCategories`, `yCategories`, AND `data`
- CandlestickChartPage.tsx: ExampleBlock passes 4 distinct variables; all 4 strings include OHLC order warning comment; no `enable-webgpu` in code examples
- TreemapChartPage.tsx: ExampleBlock passes 4 distinct variables; all show hierarchical `children` data shape
</success_criteria>

<output>
After completion, create `.planning/phases/104-update-code-example-blocks-for-all-chart-types-they-are-not-accurate-most-are-displaying-html-for-all-tabs/104-02-SUMMARY.md`
</output>
