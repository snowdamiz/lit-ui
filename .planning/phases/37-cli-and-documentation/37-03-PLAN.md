---
phase: 37-cli-and-documentation
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - packages/cli/src/registry/registry.json
  - packages/cli/src/templates/index.ts
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "lit-ui list shows select in the component listing"
    - "lit-ui add select in copy-source mode does not crash (graceful NPM redirect)"
    - "getComponentTemplate('select') returns a defined string value"
  artifacts:
    - path: "packages/cli/src/registry/registry.json"
      provides: "Select entry in components array"
      contains: '"name": "select"'
    - path: "packages/cli/src/templates/index.ts"
      provides: "SELECT_TEMPLATE constant and COMPONENT_TEMPLATES entry"
      exports: ["SELECT_TEMPLATE", "COMPONENT_TEMPLATES"]
  key_links:
    - from: "packages/cli/src/templates/index.ts"
      to: "COMPONENT_TEMPLATES map"
      via: "select key in record"
      pattern: "select: SELECT_TEMPLATE"
    - from: "packages/cli/src/registry/registry.json"
      to: "CLI list command"
      via: "components array entry"
      pattern: '"name": "select"'
---

<objective>
Add select to CLI registry and templates so that `lit-ui list` shows select and `lit-ui add select` (copy-source mode) does not crash.

Purpose: Close Gap 1 from VERIFICATION.md — registry.json and templates/index.ts are missing select entries, causing CLI list to omit select and copy-source mode to fail.

Output: Updated registry.json with select entry, SELECT_TEMPLATE in templates/index.ts that provides a minimal starter pointing users to NPM mode for full features.
</objective>

<execution_context>
@/Users/sn0w/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sn0w/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@packages/cli/src/registry/registry.json
@packages/cli/src/templates/index.ts
@.planning/phases/37-cli-and-documentation/37-RESEARCH.md
@.planning/phases/37-cli-and-documentation/37-VERIFICATION.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add select to registry.json and templates/index.ts</name>
  <files>
    packages/cli/src/registry/registry.json
    packages/cli/src/templates/index.ts
  </files>
  <action>
**registry.json:** Add a select entry to the `components` array following the existing pattern (button, dialog, input, textarea). The entry should have:
- `"name": "select"`
- `"description": "Accessible select dropdown with single/multi-select, combobox search, option groups, and async loading"`
- `"files": [{ "path": "components/select/select.ts", "type": "component" }, { "path": "components/select/option.ts", "type": "component" }, { "path": "components/select/option-group.ts", "type": "component" }]`
- `"dependencies": []` (minimal template has no external dependencies; full dependencies are in the @lit-ui/select NPM package)
- `"registryDependencies": []`

**templates/index.ts:** Add a `SELECT_TEMPLATE` export constant. Because the select component is too complex for full template embedding (3 sub-components, 1500+ lines, external dependencies), create a MINIMAL starter template that:

1. Creates a simple select element registration comment explaining this is a starter
2. Imports lit basics and TailwindElement
3. Contains a minimal `lui-select` custom element class (~50-80 lines) with basic properties (size, name, value, placeholder, label, disabled) and a basic render method that shows a trigger and dropdown shell
4. Includes a JSDoc comment at the top: `/** lui-select — Starter template. For full features (multi-select, combobox, async loading, virtual scrolling), install via NPM: npm install @lit-ui/select */`
5. Does NOT attempt to replicate the full select functionality — this is a starting point for copy-source users

Then add `select: SELECT_TEMPLATE` to the `COMPONENT_TEMPLATES` record.

The template should follow the exact same escaping pattern as BUTTON_TEMPLATE (backtick-delimited template literal string with \` for internal template literals, \${} for lit expressions inside the template).

IMPORTANT: Keep the template realistic but simple. Include:
- A `@customElement('lui-select')` decorator
- Basic properties: size, name, value, placeholder, label, disabled, open (state)
- A render method with a trigger button and a dropdown div with a slot for options
- Static styles for basic layout (display, border, dropdown positioning)
- The big JSDoc notice about NPM mode for full features

Do NOT include: multi-select, combobox, async loading, virtual scrolling, option groups, clearable — those are NPM-mode features.
  </action>
  <verify>
1. `grep -c '"select"' packages/cli/src/registry/registry.json` returns at least 1
2. `grep -c 'SELECT_TEMPLATE' packages/cli/src/templates/index.ts` returns at least 2 (constant + map entry)
3. `grep -c 'select: SELECT_TEMPLATE' packages/cli/src/templates/index.ts` returns 1
4. TypeScript compiles: `cd packages/cli && npx tsc --noEmit` passes (or at minimum the templates file has no syntax errors)
  </verify>
  <done>
registry.json has 5 components (button, dialog, input, textarea, select). templates/index.ts exports SELECT_TEMPLATE and includes it in COMPONENT_TEMPLATES map. getComponentTemplate('select') returns a defined string.
  </done>
</task>

</tasks>

<verification>
1. registry.json `components` array has 5 entries including select
2. templates/index.ts has `SELECT_TEMPLATE` export and `select: SELECT_TEMPLATE` in map
3. `getComponentTemplate('select')` would return a non-undefined string
4. The SELECT_TEMPLATE includes the NPM recommendation in its JSDoc header
5. The template has valid TypeScript/Lit syntax (proper escaping for template literal embedding)
</verification>

<success_criteria>
- `lit-ui list` would show select in its output (registry entry exists)
- `lit-ui add select` in copy-source mode returns a valid starter template (not undefined)
- The template clearly directs users to NPM mode for full Select features
</success_criteria>

<output>
After completion, create `.planning/phases/37-cli-and-documentation/37-03-SUMMARY.md`
</output>
