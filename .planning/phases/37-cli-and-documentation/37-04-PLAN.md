---
phase: 37-cli-and-documentation
plan: 04
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/docs/src/pages/components/SelectPage.tsx
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "Developer sees a dedicated Accessibility section on the Select docs page"
    - "Developer understands which ARIA roles are used (combobox, listbox, option)"
    - "Developer understands ARIA states used (aria-expanded, aria-selected, aria-activedescendant, aria-controls)"
    - "Developer knows the component follows W3C APG combobox pattern"
  artifacts:
    - path: "apps/docs/src/pages/components/SelectPage.tsx"
      provides: "Accessibility section with ARIA documentation"
      contains: "Accessibility"
  key_links:
    - from: "apps/docs/src/pages/components/SelectPage.tsx"
      to: "W3C APG combobox pattern"
      via: "documentation text"
      pattern: "APG|combobox pattern"
---

<objective>
Add a dedicated Accessibility section to SelectPage.tsx documenting ARIA roles, states, screen reader behavior, and W3C APG compliance.

Purpose: Close Gap 2 from VERIFICATION.md — the docs have keyboard navigation but no section explaining the ARIA implementation patterns developers need to understand for accessible applications.

Output: Updated SelectPage.tsx with an Accessibility section between the Keyboard Navigation section and the PrevNextNav.
</objective>

<execution_context>
@/Users/sn0w/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sn0w/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@apps/docs/src/pages/components/SelectPage.tsx
@packages/select/src/select.ts (ARIA patterns reference — lines ~3270-3450)
@.planning/phases/37-cli-and-documentation/37-VERIFICATION.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add Accessibility section to SelectPage.tsx</name>
  <files>apps/docs/src/pages/components/SelectPage.tsx</files>
  <action>
Add a new Accessibility section to SelectPage.tsx. Insert it AFTER the Keyboard Navigation section (after its closing `</section>`) and BEFORE the `{/* Navigation */}` comment and `<div className="divider-fade mb-8" />`.

The section should follow the existing visual pattern used for other sections (section header with icon, styled content). Use the same heading style as "Keyboard Navigation" and "API Reference".

**Section header:** Use a shield/lock icon (accessibility-themed). Use `className` patterns matching existing section headers:
```tsx
<section className="mb-14 animate-fade-in-up opacity-0 stagger-3">
  <div className="flex items-center gap-4 mb-6">
    <div className="flex h-10 w-10 items-center justify-center rounded-xl bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400">
      {/* Shield/accessibility icon SVG */}
    </div>
    <div>
      <h2 className="text-xl font-bold text-gray-900 dark:text-gray-100">Accessibility</h2>
      <p className="text-sm text-gray-500 dark:text-gray-400">ARIA roles, states, and screen reader behavior</p>
    </div>
    <div className="flex-1 h-px bg-gradient-to-r from-gray-200 dark:from-gray-700 to-transparent" />
  </div>
```

**Content to include (4 subsections):**

**1. ARIA Roles** — A table or styled card explaining:
- `role="combobox"` on the trigger element (both searchable input and default button trigger)
- `role="listbox"` on the dropdown container
- `role="option"` on each option item
- `role="group"` on option groups (via lui-option-group)
- `role="status"` with `aria-live="polite"` for screen reader announcements

Use a table with columns: Element, Role, Purpose. Format like the Keyboard Navigation table.

**2. ARIA States & Properties** — A table explaining:
- `aria-expanded` (true/false on trigger, indicates dropdown open state)
- `aria-haspopup="listbox"` (on trigger, indicates popup type)
- `aria-controls` (on trigger, points to listbox ID)
- `aria-activedescendant` (on trigger, points to focused option ID)
- `aria-selected` (on options, indicates selection state)
- `aria-disabled` (on options and trigger, indicates disabled state)
- `aria-multiselectable` (on listbox, present in multi-select mode)
- `aria-autocomplete="list"` (on searchable trigger, indicates filtering behavior)
- `aria-invalid` (on trigger, indicates validation error state)
- `aria-labelledby` (on listbox, points to label element)

Use a table with columns: Property, Element, Description.

**3. Screen Reader Behavior** — A styled info card (like the Events card pattern) explaining:
- When dropdown opens, screen reader announces the focused option and position ("Option 1, 1 of 5")
- The ARIA live region (`role="status" aria-live="polite"`) announces active option changes during keyboard navigation
- In searchable mode, `aria-autocomplete="list"` tells screen readers that typing filters a list
- Error states use `role="alert"` for immediate announcement
- Empty state ("No results found") uses `role="status"` with `aria-live="polite"`

**4. W3C APG Compliance** — A brief paragraph with a styled card noting:
- The select follows the W3C ARIA Authoring Practices Guide (APG) combobox pattern
- Link reference: https://www.w3.org/WAI/ARIA/apg/patterns/combobox/
- Focus management: focus stays on trigger/input, uses aria-activedescendant for virtual focus on options
- This is the recommended pattern over moving real DOM focus between options

Style all tables consistently with the existing Keyboard Navigation table and CSS Custom Properties table (same className patterns: `overflow-hidden rounded-xl border border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-900`, etc.).

Use `<code>` elements with `className="px-2 py-1 bg-gray-100 dark:bg-gray-800 rounded text-xs font-mono text-gray-800 dark:text-gray-200"` for inline code references, matching existing patterns.
  </action>
  <verify>
1. `grep -c "Accessibility" apps/docs/src/pages/components/SelectPage.tsx` returns at least 2 (heading + subtitle)
2. `grep -c "combobox" apps/docs/src/pages/components/SelectPage.tsx` returns at least 2 (role documentation)
3. `grep -c "aria-activedescendant" apps/docs/src/pages/components/SelectPage.tsx` returns at least 1
4. `grep -c "APG" apps/docs/src/pages/components/SelectPage.tsx` returns at least 1
5. TypeScript check: `cd apps/docs && npx tsc --noEmit` passes (or at minimum the JSX is valid)
  </verify>
  <done>
SelectPage.tsx has a dedicated Accessibility section with 4 subsections: ARIA Roles table, ARIA States & Properties table, Screen Reader Behavior card, and W3C APG Compliance note. The section is visually consistent with other documentation sections on the page.
  </done>
</task>

</tasks>

<verification>
1. Accessibility section exists between Keyboard Navigation and PrevNextNav
2. ARIA roles documented: combobox, listbox, option, group, status
3. ARIA states documented: aria-expanded, aria-selected, aria-activedescendant, aria-controls, aria-multiselectable, aria-autocomplete, aria-haspopup, aria-invalid, aria-disabled, aria-labelledby
4. Screen reader behavior explained (live region, option announcements)
5. W3C APG combobox pattern referenced
6. Visual styling matches existing section patterns
</verification>

<success_criteria>
- Developer visiting the Select docs page sees a dedicated Accessibility section
- Developer understands which ARIA roles and states the component uses
- Developer can reference W3C APG pattern for further reading
- Section is visually consistent with the rest of the documentation page
</success_criteria>

<output>
After completion, create `.planning/phases/37-cli-and-documentation/37-04-SUMMARY.md`
</output>
