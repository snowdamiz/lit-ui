---
phase: 39-checkbox-checkboxgroup
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - packages/checkbox/package.json
  - packages/checkbox/tsconfig.json
  - packages/checkbox/vite.config.ts
  - packages/checkbox/src/vite-env.d.ts
  - packages/core/src/styles/tailwind.css
autonomous: true

must_haves:
  truths:
    - "Checkbox package exists as @lit-ui/checkbox with correct workspace dependencies"
    - "Checkbox CSS design tokens (--ui-checkbox-*) are defined in the core token system"
    - "Package resolves in the monorepo workspace after pnpm install"
  artifacts:
    - path: "packages/checkbox/package.json"
      provides: "@lit-ui/checkbox package manifest"
      contains: "@lit-ui/checkbox"
    - path: "packages/checkbox/tsconfig.json"
      provides: "TypeScript configuration extending shared config"
      contains: "@lit-ui/typescript-config"
    - path: "packages/checkbox/vite.config.ts"
      provides: "Vite build config using shared library config"
      contains: "createLibraryConfig"
    - path: "packages/checkbox/src/vite-env.d.ts"
      provides: "Vite client type reference"
      contains: "vite/client"
    - path: "packages/core/src/styles/tailwind.css"
      provides: "Checkbox design tokens in :root"
      contains: "--ui-checkbox-size-sm"
  key_links:
    - from: "packages/checkbox/package.json"
      to: "@lit-ui/core"
      via: "workspace dependency"
      pattern: "@lit-ui/core.*workspace"
    - from: "packages/checkbox/vite.config.ts"
      to: "@lit-ui/vite-config"
      via: "createLibraryConfig import"
      pattern: "createLibraryConfig"
---

<objective>
Create the @lit-ui/checkbox package scaffolding and add checkbox CSS design tokens to the core token system.

Purpose: Establish the package structure and theming foundation before implementing checkbox and checkbox-group components.
Output: A buildable (empty) @lit-ui/checkbox package and complete --ui-checkbox-* token definitions in tailwind.css.
</objective>

<execution_context>
@/Users/sn0w/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sn0w/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/39-checkbox-checkboxgroup/39-RESEARCH.md

Reference packages for exact structure:
@packages/switch/package.json
@packages/switch/tsconfig.json
@packages/switch/vite.config.ts
@packages/switch/src/vite-env.d.ts
@packages/core/src/styles/tailwind.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create @lit-ui/checkbox package scaffolding</name>
  <files>
    packages/checkbox/package.json
    packages/checkbox/tsconfig.json
    packages/checkbox/vite.config.ts
    packages/checkbox/src/vite-env.d.ts
  </files>
  <action>
Create the `packages/checkbox/` directory and four config files, following the EXACT structure of `packages/switch/`:

**package.json** — Copy from `packages/switch/package.json` and change:
- `"name"` → `"@lit-ui/checkbox"`
- `"description"` → `"Accessible checkbox and checkbox-group components built with Lit and Tailwind CSS"`
- `"repository.directory"` → `"packages/checkbox"`
- Keep all dependencies, scripts, exports identical to switch's package.json

**tsconfig.json** — Identical to `packages/switch/tsconfig.json`:
```json
{
  "extends": "@lit-ui/typescript-config/library.json",
  "compilerOptions": {
    "outDir": "./dist",
    "rootDir": "./src",
    "baseUrl": "."
  },
  "include": ["src"]
}
```

**vite.config.ts** — Identical to `packages/switch/vite.config.ts`:
```typescript
import { createLibraryConfig } from '@lit-ui/vite-config/library';

export default createLibraryConfig({
  entry: 'src/index.ts'
});
```

**src/vite-env.d.ts** — Identical to `packages/switch/src/vite-env.d.ts`:
```typescript
/// <reference types="vite/client" />
```

After creating files, run `pnpm install` from the workspace root to link the new package.
  </action>
  <verify>
Run `ls packages/checkbox/package.json packages/checkbox/tsconfig.json packages/checkbox/vite.config.ts packages/checkbox/src/vite-env.d.ts` — all four files exist.
Run `cat packages/checkbox/package.json | grep '"name"'` — shows `@lit-ui/checkbox`.
Run `pnpm install` — succeeds without errors.
  </verify>
  <done>
@lit-ui/checkbox package exists in the monorepo workspace with correct config files and dependencies linked.
  </done>
</task>

<task type="auto">
  <name>Task 2: Add checkbox CSS design tokens to core tailwind.css</name>
  <files>
    packages/core/src/styles/tailwind.css
  </files>
  <action>
Add the checkbox component token block to `packages/core/src/styles/tailwind.css` inside the existing `:root` block, after the switch component token section. Follow the exact pattern of existing token blocks with a section comment header.

Add this token block (from research 39-RESEARCH.md Pattern 6):

```css
/* -------------------------------------------------------------------------
 * Checkbox Component
 * ------------------------------------------------------------------------- */

/* Box dimensions per size */
--ui-checkbox-size-sm: 1rem;
--ui-checkbox-size-md: 1.25rem;
--ui-checkbox-size-lg: 1.5rem;

/* Layout */
--ui-checkbox-radius: 0.25rem;
--ui-checkbox-label-gap: 0.5rem;
--ui-checkbox-transition: 150ms;
--ui-checkbox-border-width: 2px;

/* Label typography (matches switch/input pattern) */
--ui-checkbox-font-size-sm: 0.875rem;
--ui-checkbox-font-size-md: 1rem;
--ui-checkbox-font-size-lg: 1.125rem;

/* Default state (unchecked) */
--ui-checkbox-bg: var(--color-background, white);
--ui-checkbox-border: var(--color-border, var(--ui-color-border));

/* Checked state */
--ui-checkbox-bg-checked: var(--color-primary, var(--ui-color-primary));
--ui-checkbox-border-checked: var(--color-primary, var(--ui-color-primary));
--ui-checkbox-check-color: white;

/* Indeterminate state (same visual weight as checked) */
--ui-checkbox-bg-indeterminate: var(--color-primary, var(--ui-color-primary));
--ui-checkbox-border-indeterminate: var(--color-primary, var(--ui-color-primary));

/* Focus state */
--ui-checkbox-ring: var(--color-ring, var(--ui-color-ring));

/* Error state */
--ui-checkbox-border-error: var(--color-destructive, var(--ui-color-destructive));
--ui-checkbox-text-error: var(--color-destructive, var(--ui-color-destructive));

/* Group tokens */
--ui-checkbox-group-gap: 0.5rem;
```

Place these tokens inside the existing `:root { }` block, after the switch component token section. Maintain the same indentation pattern used by other token blocks.
  </action>
  <verify>
Run `grep --count 'ui-checkbox' packages/core/src/styles/tailwind.css` — should return 20+ matches.
Run `grep 'ui-checkbox-size-sm' packages/core/src/styles/tailwind.css` — should find the token.
Run `grep 'ui-checkbox-bg-checked' packages/core/src/styles/tailwind.css` — should find the checked state token.
Run `grep 'ui-checkbox-group-gap' packages/core/src/styles/tailwind.css` — should find the group token.
  </verify>
  <done>
All --ui-checkbox-* design tokens are defined in the core token system, covering dimensions (sm/md/lg), layout, typography, and color states (default, checked, indeterminate, focus, error) plus group tokens.
  </done>
</task>

</tasks>

<verification>
1. `ls packages/checkbox/package.json packages/checkbox/tsconfig.json packages/checkbox/vite.config.ts packages/checkbox/src/vite-env.d.ts` — all exist
2. `grep '@lit-ui/checkbox' packages/checkbox/package.json` — package named correctly
3. `grep 'ui-checkbox-size-sm' packages/core/src/styles/tailwind.css` — tokens defined
4. `pnpm install` — workspace resolves without errors
</verification>

<success_criteria>
- @lit-ui/checkbox package scaffolding matches @lit-ui/switch structure exactly
- All --ui-checkbox-* tokens (20+) are defined in tailwind.css :root
- pnpm install resolves the new package in the workspace
</success_criteria>

<output>
After completion, create `.planning/phases/39-checkbox-checkboxgroup/39-01-SUMMARY.md`
</output>
