---
phase: 74-select
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - packages/core/src/styles/tailwind.css
autonomous: true
requirements: [SEL-01]

must_haves:
  truths:
    - "Select dark mode tokens inherit from semantic .dark overrides — no hardcoded oklch values in the .dark block for --ui-select-* properties"
    - "All select state tokens (bg, text, border, placeholder, focus, disabled, dropdown, option, tag, checkbox) use the double-fallback pattern in :root"
    - "Select token defaults in :root match the THEME-SPEC.md values exactly"
  artifacts:
    - path: "packages/core/src/styles/tailwind.css"
      provides: "Select CSS tokens in :root and cleaned-up .dark block"
      contains: "--ui-select-bg: var(--color-background"
  key_links:
    - from: "packages/core/src/styles/tailwind.css (.dark block)"
      to: "Semantic dark tokens (.dark { --color-background, --color-foreground, --color-border, etc. })"
      via: "double-fallback var(--color-*, var(--ui-color-*))"
      pattern: "ui-select.*var\\(--color-"
---

<objective>
Polish the Select component CSS defaults in tailwind.css to match the v8.0 monochrome theme by removing redundant hardcoded dark mode overrides.

Purpose: The .dark block in tailwind.css contains 19 hardcoded oklch values for select tokens (lines 392-412). These bypass the semantic dark mode token cascade. The :root block tokens correctly use the double-fallback pattern — but the .dark block overrides them with raw oklch values, breaking the token contract. The same pattern was applied to Button (Phase 70-01), Dialog (Phase 71-01), Input (Phase 72-01), and Textarea (Phase 73-01).

Output: The .dark block no longer overrides select color tokens. The semantic .dark overrides of --color-background, --color-foreground, --color-border, --color-muted-foreground, --color-ring, --color-muted, --color-card, --color-accent, --color-secondary, --color-secondary-foreground, --color-primary are sufficient to drive select dark mode appearance via the :root double-fallback cascade.
</objective>

<execution_context>
@/Users/sn0w/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sn0w/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/69-theme-foundation/THEME-SPEC.md

<interfaces>
<!-- Current state of select tokens in tailwind.css. Executor should verify these before editing. -->

From packages/core/src/styles/tailwind.css (.dark block, PROBLEMATIC — needs removal):
```css
/* Select dark mode */
--ui-select-bg: oklch(0.10 0 0);
--ui-select-text: oklch(0.985 0 0);
--ui-select-border: oklch(0.37 0 0);
--ui-select-placeholder: oklch(0.55 0 0);
--ui-select-border-focus: oklch(0.71 0 0);
--ui-select-ring: oklch(0.55 0 0);
--ui-select-bg-disabled: oklch(0.18 0 0);
--ui-select-text-disabled: oklch(0.55 0 0);
--ui-select-border-disabled: oklch(0.37 0 0);
--ui-select-dropdown-bg: oklch(0.18 0 0);
--ui-select-dropdown-border: oklch(0.37 0 0);
--ui-select-option-bg-hover: oklch(0.27 0 0);
--ui-select-option-bg-active: oklch(0.27 0 0);
--ui-select-option-text: oklch(0.985 0 0);
--ui-select-option-text-disabled: oklch(0.55 0 0);
--ui-select-option-check: oklch(0.985 0 0);
--ui-select-tag-bg: oklch(0.27 0 0);
--ui-select-tag-text: oklch(0.96 0 0);
--ui-select-checkbox-border: oklch(0.45 0 0);
--ui-select-checkbox-bg-checked: oklch(0.985 0 0);
```

From packages/core/src/styles/tailwind.css (:root block, CORRECT — matches THEME-SPEC and uses double-fallback):
```css
/* Layout */
--ui-select-radius: 0.375rem;
--ui-select-border-width: 1px;
--ui-select-transition: 150ms;
--ui-select-dropdown-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
--ui-select-dropdown-max-height: 15rem;
--ui-select-option-height: 2.25rem;
--ui-select-z-index: 40;

/* Typography */
--ui-select-font-size-sm: 0.875rem;
--ui-select-font-size-md: 1rem;
--ui-select-font-size-lg: 1.125rem;

/* Spacing */
--ui-select-padding-x-sm: 0.75rem;  --ui-select-padding-y-sm: 0.375rem;
--ui-select-padding-x-md: 1rem;     --ui-select-padding-y-md: 0.5rem;
--ui-select-padding-x-lg: 1.25rem;  --ui-select-padding-y-lg: 0.75rem;

/* Trigger state colors — all use double-fallback (CORRECT) */
--ui-select-bg: var(--color-background, white);
--ui-select-text: var(--color-foreground, var(--ui-color-foreground));
--ui-select-border: var(--color-border, var(--ui-color-border));
--ui-select-placeholder: var(--color-muted-foreground, var(--ui-color-muted-foreground));
--ui-select-border-focus: var(--color-ring, var(--ui-color-ring));
--ui-select-ring: var(--color-ring, var(--ui-color-ring));
--ui-select-border-error: var(--color-destructive, var(--ui-color-destructive));
--ui-select-text-error: var(--color-destructive, var(--ui-color-destructive));
--ui-select-bg-disabled: var(--color-muted, var(--ui-color-muted));
--ui-select-text-disabled: var(--color-muted-foreground, var(--ui-color-muted-foreground));
--ui-select-border-disabled: var(--color-border, var(--ui-color-border));
--ui-select-dropdown-bg: var(--color-card, var(--ui-color-card));
--ui-select-dropdown-border: var(--color-border, var(--ui-color-border));
--ui-select-option-bg: transparent;
--ui-select-option-bg-hover: var(--color-accent, var(--ui-color-accent));
--ui-select-option-bg-active: var(--color-accent, var(--ui-color-accent));
--ui-select-option-text: var(--color-foreground, var(--ui-color-foreground));
--ui-select-option-text-disabled: var(--color-muted-foreground, var(--ui-color-muted-foreground));
--ui-select-option-check: var(--color-primary, var(--ui-color-primary));
--ui-select-tag-bg: var(--color-secondary, var(--ui-color-secondary));
--ui-select-tag-text: var(--color-secondary-foreground, var(--ui-color-secondary-foreground));
--ui-select-checkbox-border: var(--color-border, var(--ui-color-border));
--ui-select-checkbox-bg-checked: var(--color-primary, var(--ui-color-primary));
--ui-select-checkbox-check: white;
```

Why the .dark overrides should be removed: The .dark semantic block already defines:
- `--color-background: oklch(0.10 0 0)` → --ui-select-bg inherits via var(--color-background, white)
- `--color-foreground: oklch(0.985 0 0)` → --ui-select-text and --ui-select-option-text inherit
- `--color-border: oklch(0.37 0 0)` → --ui-select-border, --ui-select-border-disabled, --ui-select-dropdown-border inherit
- `--color-muted-foreground: oklch(0.71 0 0)` → --ui-select-placeholder, --ui-select-text-disabled, --ui-select-option-text-disabled inherit
- `--color-ring: oklch(0.55 0 0)` → --ui-select-border-focus and --ui-select-ring inherit
- `--color-muted: oklch(0.27 0 0)` → --ui-select-bg-disabled inherits
- `--color-card: oklch(0.18 0 0)` → --ui-select-dropdown-bg inherits
- `--color-accent: oklch(0.27 0 0)` → --ui-select-option-bg-hover and --ui-select-option-bg-active inherit
- `--color-primary: oklch(0.985 0 0)` → --ui-select-option-check and --ui-select-checkbox-bg-checked inherit
- `--color-secondary: oklch(0.27 0 0)` → --ui-select-tag-bg inherits
- `--color-secondary-foreground: oklch(0.96 0 0)` → --ui-select-tag-text inherits
- `--color-border: oklch(0.45 0 0)` (checkbox-border maps to border) → --ui-select-checkbox-border inherits

The explicit .dark select overrides are redundant and violate the double-fallback contract.
</interfaces>
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove hardcoded select tokens from .dark block in tailwind.css</name>
  <files>packages/core/src/styles/tailwind.css</files>
  <action>
In packages/core/src/styles/tailwind.css, find the .dark block. Locate the "/* Select dark mode */" comment and the 19 lines of hardcoded --ui-select-* overrides below it (bg, text, border, placeholder, border-focus, ring, bg-disabled, text-disabled, border-disabled, dropdown-bg, dropdown-border, option-bg-hover, option-bg-active, option-text, option-text-disabled, option-check, tag-bg, tag-text, checkbox-border, checkbox-bg-checked).

Remove the entire "/* Select dark mode */" comment and all --ui-select-* property lines from the .dark block.

These overrides are redundant: the .dark block already overrides the semantic --color-* tokens (background, foreground, border, muted-foreground, ring, muted, card, accent, primary, secondary, secondary-foreground), and the :root select tokens use the double-fallback pattern var(--color-*, var(--ui-color-*)), so they automatically pick up the correct dark values without explicit select token overrides.

Do NOT modify the :root block — it is correct and matches THEME-SPEC.md. Do NOT modify select.ts — the component CSS is correct.

After editing, verify the .dark block no longer contains any --ui-select-* declarations.
  </action>
  <verify>
    <automated>grep -n "ui-select" /Users/sn0w/Documents/dev/lit-components/packages/core/src/styles/tailwind.css | grep -v "^\s*--ui-select" | grep -c "oklch" || echo 0</automated>
  </verify>
  <done>The .dark block contains no --ui-select-* declarations. Running `grep -n "ui-select" packages/core/src/styles/tailwind.css` shows only :root block entries, none inside .dark. The count of select-related oklch hardcoded values is 0.</done>
</task>

</tasks>

<verification>
1. Run: `grep -n "ui-select" packages/core/src/styles/tailwind.css` — all results should be in the `:root` block only, not in the `.dark` block
2. Run: `grep -c "ui-select-bg: oklch" packages/core/src/styles/tailwind.css` — should output `0`
3. Run: `grep "ui-select-bg" packages/core/src/styles/tailwind.css` — should show only the :root entry with `var(--color-background, white)`
</verification>

<success_criteria>
- The .dark block no longer contains any --ui-select-* properties
- The :root block select tokens remain intact and match THEME-SPEC.md
- Select dark mode appearance is now governed entirely by the semantic .dark overrides
- SEL-01 satisfied: Select default styles match the v8.0 monochrome theme via the correct token inheritance chain
</success_criteria>

<output>
After completion, create `.planning/phases/74-select/74-01-SUMMARY.md` with what was changed, why, and the before/after for the .dark block removal.
</output>
