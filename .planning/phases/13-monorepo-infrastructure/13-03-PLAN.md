---
phase: 13-monorepo-infrastructure
plan: 03
type: execute
wave: 2
depends_on: ["13-01", "13-02"]
files_modified:
  - packages/core/package.json
  - packages/core/tsconfig.json
  - packages/core/vite.config.ts
  - packages/core/src/index.ts
  - packages/button/package.json
  - packages/button/tsconfig.json
  - packages/button/vite.config.ts
  - packages/button/src/index.ts
  - packages/dialog/package.json
  - packages/dialog/tsconfig.json
  - packages/dialog/vite.config.ts
  - packages/dialog/src/index.ts
autonomous: true

must_haves:
  truths:
    - "Each package can be built independently with pnpm --filter"
    - "Packages reference shared TypeScript and Vite configs"
    - "Packages use workspace:* protocol for internal dependencies"
  artifacts:
    - path: "packages/core/package.json"
      provides: "@lit-ui/core package definition"
      contains: "@lit-ui/core"
    - path: "packages/button/package.json"
      provides: "@lit-ui/button package definition"
      contains: "@lit-ui/button"
    - path: "packages/dialog/package.json"
      provides: "@lit-ui/dialog package definition"
      contains: "@lit-ui/dialog"
  key_links:
    - from: "packages/button/package.json"
      to: "@lit-ui/core"
      via: "workspace:* dependency"
      pattern: "workspace:\\*"
    - from: "packages/button/tsconfig.json"
      to: "@lit-ui/typescript-config"
      via: "extends"
      pattern: "@lit-ui/typescript-config"
---

<objective>
Create package scaffolding for @lit-ui/core, @lit-ui/button, and @lit-ui/dialog.

Purpose: Set up the directory structure and configuration for each publishable package. This plan creates the skeleton - actual component code migration happens in Phase 14-15 (core/SSR and component packages).

Output: Three package directories with package.json, tsconfig.json, vite.config.ts, and stub src/index.ts
</objective>

<execution_context>
@/Users/sn0w/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sn0w/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/13-monorepo-infrastructure/13-RESEARCH.md
@.planning/phases/13-monorepo-infrastructure/13-02-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create @lit-ui/core package scaffold</name>
  <files>packages/core/package.json, packages/core/tsconfig.json, packages/core/vite.config.ts, packages/core/src/index.ts</files>
  <action>
Create packages/core/ directory with:

**package.json:**
```json
{
  "name": "@lit-ui/core",
  "version": "0.0.1",
  "type": "module",
  "main": "dist/index.js",
  "module": "dist/index.js",
  "types": "dist/index.d.ts",
  "exports": {
    ".": {
      "import": "./dist/index.js",
      "types": "./dist/index.d.ts"
    }
  },
  "files": ["dist"],
  "sideEffects": false,
  "scripts": {
    "dev": "vite build --watch",
    "build": "vite build"
  },
  "peerDependencies": {
    "lit": "^3.0.0"
  },
  "devDependencies": {
    "@lit-ui/typescript-config": "workspace:*",
    "@lit-ui/vite-config": "workspace:*",
    "@tailwindcss/vite": "^4.1.18",
    "lit": "^3.3.2",
    "tailwindcss": "^4.1.18",
    "typescript": "^5.9.3",
    "vite": "^7.3.1",
    "vite-plugin-dts": "^4.5.4"
  }
}
```

**tsconfig.json:**
```json
{
  "extends": "@lit-ui/typescript-config/library.json",
  "compilerOptions": {
    "outDir": "./dist",
    "rootDir": "./src",
    "baseUrl": "."
  },
  "include": ["src"]
}
```

**vite.config.ts:**
```typescript
import { createLibraryConfig } from '@lit-ui/vite-config/library';

export default createLibraryConfig({
  entry: 'src/index.ts'
});
```

**src/index.ts (stub):**
```typescript
// @lit-ui/core - TailwindElement base class
// Implementation migrated in Phase 14

export const VERSION = '0.0.1';
```

Note: sideEffects: false enables tree shaking. Actual TailwindElement migration is Phase 14.
  </action>
  <verify>Run `ls -la packages/core/` and `cat packages/core/package.json | head -10`</verify>
  <done>packages/core/ exists with all config files and stub index.ts</done>
</task>

<task type="auto">
  <name>Task 2: Create @lit-ui/button package scaffold</name>
  <files>packages/button/package.json, packages/button/tsconfig.json, packages/button/vite.config.ts, packages/button/src/index.ts</files>
  <action>
Create packages/button/ directory with:

**package.json:**
```json
{
  "name": "@lit-ui/button",
  "version": "0.0.1",
  "type": "module",
  "main": "dist/index.js",
  "module": "dist/index.js",
  "types": "dist/index.d.ts",
  "exports": {
    ".": {
      "import": "./dist/index.js",
      "types": "./dist/index.d.ts"
    }
  },
  "files": ["dist"],
  "sideEffects": false,
  "scripts": {
    "dev": "vite build --watch",
    "build": "vite build"
  },
  "dependencies": {
    "@lit-ui/core": "workspace:*"
  },
  "peerDependencies": {
    "lit": "^3.0.0"
  },
  "devDependencies": {
    "@lit-ui/typescript-config": "workspace:*",
    "@lit-ui/vite-config": "workspace:*",
    "@tailwindcss/vite": "^4.1.18",
    "lit": "^3.3.2",
    "tailwindcss": "^4.1.18",
    "typescript": "^5.9.3",
    "vite": "^7.3.1",
    "vite-plugin-dts": "^4.5.4"
  }
}
```

**tsconfig.json:**
```json
{
  "extends": "@lit-ui/typescript-config/library.json",
  "compilerOptions": {
    "outDir": "./dist",
    "rootDir": "./src",
    "baseUrl": "."
  },
  "include": ["src"]
}
```

**vite.config.ts:**
```typescript
import { createLibraryConfig } from '@lit-ui/vite-config/library';

export default createLibraryConfig({
  entry: 'src/index.ts'
});
```

**src/index.ts (stub):**
```typescript
// @lit-ui/button - Button component
// Implementation migrated in Phase 15

export const VERSION = '0.0.1';
```

Note: dependencies includes @lit-ui/core with workspace:* protocol.
  </action>
  <verify>Run `grep "@lit-ui/core" packages/button/package.json`</verify>
  <done>packages/button/ exists with workspace dependency on @lit-ui/core</done>
</task>

<task type="auto">
  <name>Task 3: Create @lit-ui/dialog package scaffold</name>
  <files>packages/dialog/package.json, packages/dialog/tsconfig.json, packages/dialog/vite.config.ts, packages/dialog/src/index.ts</files>
  <action>
Create packages/dialog/ directory with:

**package.json:**
```json
{
  "name": "@lit-ui/dialog",
  "version": "0.0.1",
  "type": "module",
  "main": "dist/index.js",
  "module": "dist/index.js",
  "types": "dist/index.d.ts",
  "exports": {
    ".": {
      "import": "./dist/index.js",
      "types": "./dist/index.d.ts"
    }
  },
  "files": ["dist"],
  "sideEffects": false,
  "scripts": {
    "dev": "vite build --watch",
    "build": "vite build"
  },
  "dependencies": {
    "@lit-ui/core": "workspace:*"
  },
  "peerDependencies": {
    "lit": "^3.0.0"
  },
  "devDependencies": {
    "@lit-ui/typescript-config": "workspace:*",
    "@lit-ui/vite-config": "workspace:*",
    "@tailwindcss/vite": "^4.1.18",
    "lit": "^3.3.2",
    "tailwindcss": "^4.1.18",
    "typescript": "^5.9.3",
    "vite": "^7.3.1",
    "vite-plugin-dts": "^4.5.4"
  }
}
```

**tsconfig.json:**
```json
{
  "extends": "@lit-ui/typescript-config/library.json",
  "compilerOptions": {
    "outDir": "./dist",
    "rootDir": "./src",
    "baseUrl": "."
  },
  "include": ["src"]
}
```

**vite.config.ts:**
```typescript
import { createLibraryConfig } from '@lit-ui/vite-config/library';

export default createLibraryConfig({
  entry: 'src/index.ts'
});
```

**src/index.ts (stub):**
```typescript
// @lit-ui/dialog - Dialog component
// Implementation migrated in Phase 15

export const VERSION = '0.0.1';
```
  </action>
  <verify>Run `ls packages/dialog/src/`</verify>
  <done>packages/dialog/ exists with same structure as button package</done>
</task>

</tasks>

<verification>
After all tasks complete:
1. List all package directories: `ls packages/`
2. Verify each has config files: `for p in core button dialog; do echo "=== $p ===" && ls packages/$p/; done`
3. Check workspace dependencies: `grep "workspace:" packages/*/package.json`
4. Verify tsconfig extends: `grep "extends" packages/*/tsconfig.json`
</verification>

<success_criteria>
- packages/core/, packages/button/, packages/dialog/ all exist
- Each has package.json, tsconfig.json, vite.config.ts, src/index.ts
- button and dialog depend on @lit-ui/core via workspace:*
- All tsconfigs extend @lit-ui/typescript-config/library.json
- All vite configs use createLibraryConfig from @lit-ui/vite-config
</success_criteria>

<output>
After completion, create `.planning/phases/13-monorepo-infrastructure/13-03-SUMMARY.md`
</output>
