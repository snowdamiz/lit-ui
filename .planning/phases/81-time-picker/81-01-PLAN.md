---
phase: 81-time-picker
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - packages/core/src/styles/tailwind.css
autonomous: true
requirements:
  - TMP-01

must_haves:
  truths:
    - "Time Picker dark mode is governed entirely by the semantic .dark token cascade — no hardcoded per-component .dark overrides except oklch literal exceptions"
    - "Six oklch literal exceptions remain in .dark because their :root values are oklch colors with different light/dark lightness values"
    - "The :root block with 67 --ui-time-picker-* tokens remains untouched"
  artifacts:
    - path: "packages/core/src/styles/tailwind.css"
      provides: "Time Picker .dark block removed (47 var(--color-gray-*) declarations + comment); 6 oklch exceptions kept; :root 67-token block unchanged"
      contains: "ui-time-picker-option-selected-bg"
  key_links:
    - from: "packages/core/src/styles/tailwind.css .dark block"
      to: "semantic .dark cascade via --color-background, --color-foreground, etc."
      via: "double-fallback var() in :root"
      pattern: "--ui-time-picker-bg: var\\(--color-background"
---

<objective>
Remove 47 hardcoded .dark --ui-time-picker-* declarations from tailwind.css, keeping only the 6 oklch literal exceptions that require explicit dark values because their :root counterparts are literal oklch colors with different lightness.

Purpose: Dark mode should be governed by the semantic .dark cascade pattern (established in Phase 70-01 and consistently applied through Phase 80-01). All 47 non-exception tokens already use double-fallback var() in :root and will resolve correctly without explicit .dark overrides.

Output: tailwind.css .dark block no longer contains hardcoded time-picker declarations except the 6 oklch tokens that are genuine exceptions.
</objective>

<execution_context>
@/Users/sn0w/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sn0w/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

The established pattern (Phases 70-01 through 80-01): remove all hardcoded .dark component token overrides except where the :root value is a literal non-var value (like `white` or an `oklch()` color that has a different dark-mode value). The semantic .dark cascade handles the rest via:
  .dark { --color-background: var(--color-gray-950) }
  .dark { --color-foreground: var(--color-gray-50) }
  etc.

**Exceptions to KEEP in .dark (oklch literals with different light/dark lightness):**
- `--ui-time-picker-option-selected-bg`: :root = `oklch(0.95 0.03 250)` (light), .dark = `oklch(0.30 0.06 250)` (dark). KEEP.
- `--ui-time-picker-option-selected-text`: :root = `oklch(0.45 0.15 250)` (dark foreground), .dark = `oklch(0.78 0.10 250)` (light foreground). KEEP.
- `--ui-time-picker-business-accent`: :root = `oklch(0.60 0.18 150)` (light), .dark = `oklch(0.70 0.18 150)` (slightly lighter). KEEP.
- `--ui-time-picker-business-bg`: :root = `oklch(0.97 0.02 150)` (near-white), .dark = `oklch(0.20 0.04 150)` (near-black). KEEP.
- `--ui-time-picker-business-hover-bg`: :root = `oklch(0.93 0.04 150)` (light), .dark = `oklch(0.25 0.06 150)` (dark). KEEP.
- `--ui-time-picker-wheel-highlight-bg`: :root = `oklch(0.97 0.01 250)` (near-white), .dark = `oklch(0.25 0.02 250)` (near-black). KEEP.

**Declarations to REMOVE (47 lines using var(--color-gray-*)):**
All other --ui-time-picker-* lines in the .dark block that use `var(--color-gray-*)` — these cascade correctly through the semantic .dark tokens.

**Current .dark block location:** Lines 248-301 in tailwind.css. Comment "/* Time Picker dark mode */" + 53 token declarations.
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove .dark time-picker block (keep 6 oklch exceptions)</name>
  <files>packages/core/src/styles/tailwind.css</files>
  <action>
In the .dark { } block of tailwind.css, find the "/* Time Picker dark mode */" comment and the --ui-time-picker-* declarations that follow it (approximately lines 248-301).

Remove the following lines entirely (47 declarations + comment):
  - The "/* Time Picker dark mode */" comment line
  - --ui-time-picker-bg: var(--color-gray-950);
  - --ui-time-picker-text: var(--color-gray-50);
  - --ui-time-picker-border: var(--color-gray-700);
  - --ui-time-picker-placeholder: var(--color-gray-500);
  - --ui-time-picker-label-text: var(--color-gray-50);
  - --ui-time-picker-popup-bg: var(--color-gray-900);
  - --ui-time-picker-popup-border: var(--color-gray-700);
  - --ui-time-picker-hover-bg: var(--color-gray-800);
  - --ui-time-picker-disabled-bg: var(--color-gray-900);
  - --ui-time-picker-disabled-border: var(--color-gray-700);
  - --ui-time-picker-tab-bg: var(--color-gray-900);
  - --ui-time-picker-tab-text: var(--color-gray-50);
  - --ui-time-picker-tab-border: var(--color-gray-600);
  - --ui-time-picker-tab-hover-bg: var(--color-gray-700);
  - --ui-time-picker-preset-bg: var(--color-gray-900);
  - --ui-time-picker-preset-text: var(--color-gray-50);
  - --ui-time-picker-preset-border: var(--color-gray-600);
  - --ui-time-picker-preset-hover-bg: var(--color-gray-700);
  - --ui-time-picker-preset-hover-border: var(--color-gray-500);
  - --ui-time-picker-muted-text: var(--color-gray-400);
  - --ui-time-picker-dropdown-bg: var(--color-gray-900);
  - --ui-time-picker-dropdown-border: var(--color-gray-700);
  - --ui-time-picker-option-text: var(--color-gray-200);
  - --ui-time-picker-option-hover-bg: var(--color-gray-700);
  - --ui-time-picker-spinbutton-bg: var(--color-gray-900);
  - --ui-time-picker-spinbutton-text: var(--color-gray-50);
  - --ui-time-picker-spinbutton-border: var(--color-gray-600);
  - --ui-time-picker-separator-color: var(--color-gray-500);
  - --ui-time-picker-period-bg: var(--color-gray-900);
  - --ui-time-picker-period-text: var(--color-gray-50);
  - --ui-time-picker-period-border: var(--color-gray-600);
  - --ui-time-picker-period-hover-bg: var(--color-gray-700);
  - --ui-time-picker-clock-bg: var(--color-gray-900);
  - --ui-time-picker-clock-border: var(--color-gray-700);
  - --ui-time-picker-clock-text: var(--color-gray-300);
  - --ui-time-picker-voice-bg: var(--color-gray-900);
  - --ui-time-picker-voice-text: var(--color-gray-300);
  - --ui-time-picker-voice-border: var(--color-gray-600);
  - --ui-time-picker-range-label: var(--color-gray-200);
  - --ui-time-picker-range-muted: var(--color-gray-400);
  - --ui-time-picker-range-track: var(--color-gray-700);
  - --ui-time-picker-range-thumb-bg: var(--color-gray-900);
  - --ui-time-picker-wheel-text: var(--color-gray-300);
  - --ui-time-picker-wheel-highlight-border: var(--color-gray-600);
  - --ui-time-picker-wheel-separator: var(--color-gray-500);
  - --ui-time-picker-timezone-text: var(--color-gray-400);
  - --ui-time-picker-timezone-separator: var(--color-gray-600);

KEEP these six lines (genuine exceptions — oklch literals in :root that need explicit dark overrides):
  - --ui-time-picker-option-selected-bg: oklch(0.30 0.06 250);
  - --ui-time-picker-option-selected-text: oklch(0.78 0.10 250);
  - --ui-time-picker-business-accent: oklch(0.70 0.18 150);
  - --ui-time-picker-business-bg: oklch(0.20 0.04 150);
  - --ui-time-picker-business-hover-bg: oklch(0.25 0.06 150);
  - --ui-time-picker-wheel-highlight-bg: oklch(0.25 0.02 250);

Do NOT touch the :root block (lines ~947-1027). The 67 --ui-time-picker-* tokens in :root remain unchanged.

After removal, the 6 exception lines should remain at the approximate position where the time-picker block previously started. Add a minimal comment above them: "/* Time Picker oklch exceptions (literal colors, no cascade) */"

Commit: `feat(81-01): remove .dark time-picker block (keep 6 oklch exceptions)`
  </action>
  <verify>
    <automated>grep -c "ui-time-picker" /Users/sn0w/Documents/dev/lit-components/packages/core/src/styles/tailwind.css</automated>
  </verify>
  <done>
grep shows exactly 73 matches for "ui-time-picker" in tailwind.css: 67 in :root + 6 oklch exceptions in .dark. The 47 removed var(--color-gray-*) declarations are gone. No :root tokens changed.
  </done>
</task>

</tasks>

<verification>
1. `grep -n "ui-time-picker" packages/core/src/styles/tailwind.css` — shows only :root entries (67) plus 6 oklch exceptions in .dark
2. `grep -n "\.dark" packages/core/src/styles/tailwind.css | grep "time-picker" | grep -v "oklch"` — returns no output (no non-exception dark overrides remain)
3. `grep "ui-time-picker-option-selected-bg\|ui-time-picker-wheel-highlight-bg" packages/core/src/styles/tailwind.css` — shows exactly 2 entries each (1 in :root, 1 in .dark)
</verification>

<success_criteria>
- .dark block no longer contains "/* Time Picker dark mode */" comment
- .dark block no longer contains 47 removed --ui-time-picker-* var(--color-gray-*) declarations
- .dark block still contains all 6 oklch exception tokens with the new "/* Time Picker oklch exceptions */" comment
- :root block has exactly 67 --ui-time-picker-* tokens, all unchanged
- Pattern matches all prior phases (70-01 through 80-01)
</success_criteria>

<output>
After completion, create `.planning/phases/81-time-picker/81-01-SUMMARY.md`
</output>
