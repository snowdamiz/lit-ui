---
phase: 02-button-component
plan: 04
type: execute
wave: 3
depends_on: ["02-02", "02-03"]
files_modified:
  - index.html
autonomous: false

must_haves:
  truths:
    - "All five variants render with distinct visual styling"
    - "All three sizes render with distinct padding and font-size"
    - "Button inside form submits the form when clicked"
    - "Loading state shows pulsing dots spinner"
    - "Icons appear correctly in leading/trailing positions"
  artifacts:
    - path: "index.html"
      provides: "Updated demo page with button showcase"
      contains: "ui-button"
  key_links:
    - from: "index.html"
      to: "ui-button component"
      via: "HTML usage"
      pattern: "<ui-button"
---

<objective>
Update demo page and visually verify all button requirements are met.

Purpose: Validate that the button component meets all Phase 2 success criteria through visual and functional testing
Output: Updated demo page showcasing all button features, human verification of requirements
</objective>

<execution_context>
@/Users/sn0w/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sn0w/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-button-component/02-CONTEXT.md
@index.html
@src/components/button/button.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update demo page with button showcase</name>
  <files>index.html</files>
  <action>
Update index.html to showcase all button features:

1. Add a Button Demo section with:
   - All five variants side by side (primary, secondary, outline, ghost, destructive)
   - All three sizes demonstrated (sm, md, lg)
   - A disabled button example
   - A loading button example (with a toggle button to control loading state)

2. Add a form submission test:
   ```html
   <form id="test-form" onsubmit="event.preventDefault(); alert('Form submitted!');">
     <ui-button type="submit" variant="primary">Submit Form</ui-button>
   </form>
   ```

3. Add icon examples (use simple inline SVG icons):
   ```html
   <ui-button variant="primary">
     <svg slot="icon-start" viewBox="0 0 20 20" fill="currentColor">
       <path d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.707l-3-3a1 1 0 00-1.414 1.414L10.586 9H7a1 1 0 100 2h3.586l-1.293 1.293a1 1 0 101.414 1.414l3-3a1 1 0 000-1.414z"/>
     </svg>
     Continue
   </ui-button>
   ```

4. Add JavaScript to toggle loading state on a demo button:
   ```javascript
   const loadingBtn = document.querySelector('#loading-demo');
   document.querySelector('#toggle-loading').addEventListener('click', () => {
     loadingBtn.loading = !loadingBtn.loading;
   });
   ```

5. Add a verification checklist section:
   - [ ] All 5 variants render with distinct colors
   - [ ] All 3 sizes have different padding/font
   - [ ] Disabled button is visually muted
   - [ ] Loading button shows pulsing dots
   - [ ] Form submit button triggers form submission
   - [ ] Tab/Enter/Space activates buttons
   - [ ] Focus ring is visible (inner glow)
   - [ ] Icons render at correct size
   - [ ] Dark mode works on all variants

Keep existing DemoCard examples - this is additive.
  </action>
  <verify>Run `npm run dev` - demo page should load without errors</verify>
  <done>index.html has comprehensive button demo with all variants, sizes, states, form, and icons</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete ui-button component with variants, sizes, form participation, loading state, and icon slots</what-built>
  <how-to-verify>
1. Run `npm run dev` to start the development server
2. Open the dev server URL in your browser

**Variants (BTN-01):**
- Verify primary button has brand color background
- Verify secondary button has gray/muted background
- Verify outline button has border, transparent background
- Verify ghost button is transparent with no border
- Verify destructive button has red/danger color

**Sizes (BTN-02):**
- Verify sm button is smaller (less padding, smaller text)
- Verify md button is medium (default)
- Verify lg button is larger (more padding, larger text)

**States (BTN-03):**
- Hover over buttons - verify hover state changes
- Click buttons - verify active state (press feedback)
- Tab to buttons - verify focus ring (inner glow) is visible

**Keyboard (BTN-04):**
- Tab to a button, press Enter - should activate
- Tab to a button, press Space - should activate

**Focus Ring (BTN-05):**
- Tab to button - verify inset focus ring is visible
- Verify disabled button can still receive focus

**Form Participation (BTN-06):**
- Click the Submit Form button inside the form
- Verify alert "Form submitted!" appears

**Loading State (BTN-07):**
- Click Toggle Loading button
- Verify loading button shows three pulsing dots
- Verify pulsing animation is smooth
- Click the loading button - should NOT trigger action

**Icon Slots (BTN-08):**
- Verify icon-start button has icon before text
- Verify icon-end button has icon after text
- Verify icon size scales with button size

**Dark Mode:**
- Toggle dark mode
- Verify all button variants have appropriate dark mode colors

  </how-to-verify>
  <resume-signal>Type "approved" if all checks pass, or describe any issues found</resume-signal>
</task>

</tasks>

<verification>
1. Demo page loads with all button examples
2. All five variants visually distinct
3. All three sizes visually distinct
4. Form submission works via ui-button type="submit"
5. Loading state shows animated spinner
6. Icons render in slots correctly
7. Dark mode affects all button colors
8. Human confirms all requirements met
</verification>

<success_criteria>
- All 8 BTN requirements (BTN-01 through BTN-08) verified
- Button works in light and dark mode
- Form participation tested and working
- Loading spinner animation is smooth
- Focus ring is visible and styled as inner glow
- Human has approved all visual and functional checks
</success_criteria>

<output>
After completion, create `.planning/phases/02-button-component/02-04-SUMMARY.md`
</output>
