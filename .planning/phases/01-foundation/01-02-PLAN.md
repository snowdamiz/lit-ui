---
phase: 01-foundation
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - src/styles/tailwind.css
  - src/styles/host-defaults.css
autonomous: true

must_haves:
  truths:
    - "Design tokens are defined using Tailwind v4 @theme directive"
    - "Primitive tokens follow scale-based naming (--color-brand-500, --spacing-4)"
    - "Semantic tokens reference primitives (--color-primary: var(--color-brand-500))"
    - "Dark mode tokens are defined with .dark class selector"
    - ":host defaults exist for @property-dependent Tailwind variables"
  artifacts:
    - path: "src/styles/tailwind.css"
      provides: "Main Tailwind CSS with design tokens"
      contains: "@theme"
    - path: "src/styles/host-defaults.css"
      provides: "Shadow DOM workaround styles"
      contains: ":host"
  key_links:
    - from: "src/styles/tailwind.css"
      to: "tailwindcss"
      via: "@import directive"
      pattern: '@import "tailwindcss"'
---

<objective>
Create the design token system using Tailwind v4's @theme directive with full primitive, semantic, and component token layers plus dark mode support.

Purpose: Design tokens are the visual language of the component library. They enable consistent styling and theme customization across all components.
Output: Complete Tailwind CSS configuration with tokens that cascade into Shadow DOM via CSS custom properties.
</objective>

<execution_context>
@/Users/sn0w/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sn0w/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation/01-RESEARCH.md
@.planning/phases/01-foundation/01-CONTEXT.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create main Tailwind CSS with design tokens</name>
  <files>src/styles/tailwind.css</files>
  <action>
Create src/styles/tailwind.css with Tailwind v4 CSS-first configuration.

Structure (from CONTEXT.md requirements):
1. Import Tailwind: `@import "tailwindcss";`
2. Define tokens inside @theme block

PRIMITIVE TOKENS (raw values, scale-based naming):
- Colors: Brand palette (brand-50 through brand-900) using oklch color space
- Spacing: --spacing-{0.5,1,1.5,2,2.5,3,3.5,4,5,6,7,8,9,10,11,12,14,16,20,24,28,32,36,40,44,48,52,56,60,64,72,80,96}
- Typography: --font-family-sans, --font-family-mono
- Shadows: --shadow-{xs,sm,md,lg,xl,2xl}
- Borders: --border-width-{0,1,2,4,8}
- Radii: --radius-{none,sm,md,lg,xl,2xl,3xl,full}
- Z-index: --z-{0,10,20,30,40,50}

SEMANTIC TOKENS (meaningful names referencing primitives):
- --color-primary, --color-primary-foreground
- --color-secondary, --color-secondary-foreground
- --color-destructive, --color-destructive-foreground
- --color-muted, --color-muted-foreground
- --color-accent, --color-accent-foreground
- --color-background, --color-foreground
- --color-border, --color-ring
- --color-input (input backgrounds)
- --color-card, --color-card-foreground

DARK MODE (class-based per CONTEXT.md):
Define .dark {} block that overrides semantic tokens for dark theme.
Use the same semantic token names but with dark-appropriate values.

Use oklch color values for all colors (modern, wide-gamut support).
Extend Tailwind defaults rather than replacing them.
  </action>
  <verify>
Check file exists: `ls src/styles/tailwind.css`
Verify @theme block present: `grep "@theme" src/styles/tailwind.css`
Verify dark mode: `grep "\.dark" src/styles/tailwind.css`
Verify semantic tokens: `grep "color-primary" src/styles/tailwind.css`
  </verify>
  <done>Tailwind CSS file exists with complete token system and dark mode support</done>
</task>

<task type="auto">
  <name>Task 2: Create :host defaults for Shadow DOM @property workaround</name>
  <files>src/styles/host-defaults.css</files>
  <action>
Create src/styles/host-defaults.css with explicit :host declarations for Tailwind's @property-dependent variables.

CRITICAL: Tailwind v4 uses CSS @property declarations for shadow, ring, transform, and other utilities. These don't work inside Shadow DOM. Components must set defaults.

Include all variables from research (Pattern 3):

Shadow/ring defaults:
- --tw-shadow: 0 0 #0000
- --tw-shadow-color: initial
- --tw-inset-shadow: 0 0 #0000
- --tw-inset-shadow-color: initial
- --tw-ring-color: initial
- --tw-ring-shadow: 0 0 #0000
- --tw-ring-inset: (empty string, not initial)
- --tw-ring-offset-width: 0px
- --tw-ring-offset-color: #fff

Transform defaults:
- --tw-translate-x: 0
- --tw-translate-y: 0
- --tw-translate-z: 0
- --tw-rotate-x: 0
- --tw-rotate-y: 0
- --tw-rotate-z: 0
- --tw-skew-x: 0
- --tw-skew-y: 0
- --tw-scale-x: 1
- --tw-scale-y: 1
- --tw-scale-z: 1

Other property-dependent utilities:
- --tw-border-style: solid
- --tw-font-weight: initial
- --tw-tracking: initial
- --tw-leading: initial
- --tw-backdrop-blur: initial
- --tw-backdrop-brightness: initial
- --tw-backdrop-contrast: initial
- --tw-backdrop-grayscale: initial
- --tw-backdrop-hue-rotate: initial
- --tw-backdrop-invert: initial
- --tw-backdrop-opacity: initial
- --tw-backdrop-saturate: initial
- --tw-backdrop-sepia: initial

This file will be imported into the TailwindElement base class.
  </action>
  <verify>
Check file exists: `ls src/styles/host-defaults.css`
Verify :host selector: `grep ":host" src/styles/host-defaults.css`
Verify shadow defaults: `grep "tw-shadow" src/styles/host-defaults.css`
Verify transform defaults: `grep "tw-translate" src/styles/host-defaults.css`
  </verify>
  <done>Host defaults CSS file exists with all @property workaround variables</done>
</task>

</tasks>

<verification>
After all tasks complete:
1. src/styles/tailwind.css exists with @theme block
2. Primitive tokens use scale-based naming (--color-brand-500, --spacing-4)
3. Semantic tokens reference primitives via var()
4. .dark class selector present with dark theme overrides
5. src/styles/host-defaults.css exists with :host selector
6. All @property-dependent variables have defaults
</verification>

<success_criteria>
- Design tokens defined using @theme directive (tailwind.css contains @theme)
- Primitive, semantic, and dark mode token layers all present
- :host defaults exist for Shadow DOM @property workaround (host-defaults.css)
- Tokens follow conventions from CONTEXT.md (scale-based naming, extending defaults)
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-02-SUMMARY.md`
</output>
