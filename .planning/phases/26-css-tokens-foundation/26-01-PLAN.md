---
phase: 26-css-tokens-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - packages/core/src/styles/tailwind.css
  - packages/core/src/tokens/index.ts
autonomous: true

must_haves:
  truths:
    - "Developer can use --ui-input-* CSS variables to style input borders, backgrounds, and text"
    - "Developer can use --ui-textarea-* CSS variables to style textarea elements"
    - "Theme tokens integrate with existing theme system and respond to light/dark mode via semantic token references"
    - "Size variant tokens (sm, md, lg) exist for padding and font-size"
  artifacts:
    - path: "packages/core/src/styles/tailwind.css"
      provides: "Input and Textarea CSS custom property tokens"
      contains: "--ui-input-border"
    - path: "packages/core/src/tokens/index.ts"
      provides: "TypeScript exports for programmatic token access"
      contains: "input:"
  key_links:
    - from: "packages/core/src/styles/tailwind.css"
      to: "semantic tokens"
      via: "var(--color-*, var(--ui-color-*)) fallback pattern"
      pattern: "var\\(--color-.*, var\\(--ui-color-.*\\)\\)"
---

<objective>
Add CSS custom property tokens for Input and Textarea components to the existing theme system.

Purpose: Provide the styling foundation that Input (Phase 27) and Textarea (Phase 29) components will consume. This enables consistent visual design and theme customization without building any components yet.

Output: Extended tailwind.css with --ui-input-* and --ui-textarea-* token blocks, plus TypeScript exports for programmatic access.
</objective>

<execution_context>
@/Users/sn0w/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sn0w/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/26-css-tokens-foundation/26-CONTEXT.md
@.planning/phases/26-css-tokens-foundation/26-RESEARCH.md
@packages/core/src/styles/tailwind.css
@packages/core/src/tokens/index.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add Input and Textarea CSS tokens to tailwind.css</name>
  <files>packages/core/src/styles/tailwind.css</files>
  <action>
Add two new component token blocks to the `:root {}` section (after Dialog Component block, before the closing `}`):

**Input Component Block:**
```css
/* -------------------------------------------------------------------------
 * Input Component
 * ------------------------------------------------------------------------- */

/* Layout */
--ui-input-radius: 0.375rem;
--ui-input-border-width: 1px;
--ui-input-transition: 150ms;

/* Typography */
--ui-input-font-size-sm: 0.875rem;
--ui-input-font-size-md: 1rem;
--ui-input-font-size-lg: 1.125rem;

/* Spacing - Small */
--ui-input-padding-x-sm: 0.75rem;
--ui-input-padding-y-sm: 0.375rem;

/* Spacing - Medium */
--ui-input-padding-x-md: 1rem;
--ui-input-padding-y-md: 0.5rem;

/* Spacing - Large */
--ui-input-padding-x-lg: 1.25rem;
--ui-input-padding-y-lg: 0.75rem;

/* Default state colors */
--ui-input-bg: var(--color-background, white);
--ui-input-text: var(--color-foreground, var(--ui-color-foreground));
--ui-input-border: var(--color-border, var(--ui-color-border));
--ui-input-placeholder: var(--color-muted-foreground, var(--ui-color-muted-foreground));

/* Focus state colors */
--ui-input-border-focus: var(--color-ring, var(--ui-color-ring));
--ui-input-ring: var(--color-ring, var(--ui-color-ring));

/* Error state colors */
--ui-input-border-error: var(--color-destructive, var(--ui-color-destructive));
--ui-input-text-error: var(--color-destructive, var(--ui-color-destructive));

/* Disabled state colors */
--ui-input-bg-disabled: var(--color-muted, var(--ui-color-muted));
--ui-input-text-disabled: var(--color-muted-foreground, var(--ui-color-muted-foreground));
--ui-input-border-disabled: var(--color-border, var(--ui-color-border));
```

**Textarea Component Block:**
```css
/* -------------------------------------------------------------------------
 * Textarea Component
 * ------------------------------------------------------------------------- */

/* Layout */
--ui-textarea-radius: 0.375rem;
--ui-textarea-border-width: 1px;
--ui-textarea-min-height: 5rem;
--ui-textarea-transition: 150ms;

/* Typography */
--ui-textarea-font-size-sm: 0.875rem;
--ui-textarea-font-size-md: 1rem;
--ui-textarea-font-size-lg: 1.125rem;

/* Spacing - Small */
--ui-textarea-padding-x-sm: 0.75rem;
--ui-textarea-padding-y-sm: 0.375rem;

/* Spacing - Medium */
--ui-textarea-padding-x-md: 1rem;
--ui-textarea-padding-y-md: 0.5rem;

/* Spacing - Large */
--ui-textarea-padding-x-lg: 1.25rem;
--ui-textarea-padding-y-lg: 0.75rem;

/* Default state colors */
--ui-textarea-bg: var(--color-background, white);
--ui-textarea-text: var(--color-foreground, var(--ui-color-foreground));
--ui-textarea-border: var(--color-border, var(--ui-color-border));
--ui-textarea-placeholder: var(--color-muted-foreground, var(--ui-color-muted-foreground));

/* Focus state colors */
--ui-textarea-border-focus: var(--color-ring, var(--ui-color-ring));
--ui-textarea-ring: var(--color-ring, var(--ui-color-ring));

/* Error state colors */
--ui-textarea-border-error: var(--color-destructive, var(--ui-color-destructive));
--ui-textarea-text-error: var(--color-destructive, var(--ui-color-destructive));

/* Disabled state colors */
--ui-textarea-bg-disabled: var(--color-muted, var(--ui-color-muted));
--ui-textarea-text-disabled: var(--color-muted-foreground, var(--ui-color-muted-foreground));
--ui-textarea-border-disabled: var(--color-border, var(--ui-color-border));
```

**Key patterns to follow:**
- Two-level fallback: `var(--color-*, var(--ui-color-*))` for all semantic color references
- State-last naming: `--ui-input-border-focus` not `--ui-input-focus-border`
- No `-default` suffix for base state
- Use `var(--color-background, white)` for `--ui-input-bg` to inherit dark mode background
- Match Button component's transition duration (150ms)
  </action>
  <verify>
Run `grep -c "ui-input-" packages/core/src/styles/tailwind.css` - should return 20+ matches
Run `grep -c "ui-textarea-" packages/core/src/styles/tailwind.css` - should return 20+ matches
Run `grep "ui-input-border-focus" packages/core/src/styles/tailwind.css` - should show the focus state token
  </verify>
  <done>
Input and Textarea CSS token blocks exist in tailwind.css :root {} section with all state variants (default, focus, error, disabled) and size variants (sm, md, lg)
  </done>
</task>

<task type="auto">
  <name>Task 2: Add TypeScript token exports</name>
  <files>packages/core/src/tokens/index.ts</files>
  <action>
Add `input` and `textarea` token objects to the `tokens` export in `packages/core/src/tokens/index.ts`.

Add after the `zIndex` object, before `} as const;`:

```typescript
input: {
  // Layout
  radius: 'var(--ui-input-radius)',
  borderWidth: 'var(--ui-input-border-width)',
  transition: 'var(--ui-input-transition)',

  // Typography
  fontSizeSm: 'var(--ui-input-font-size-sm)',
  fontSizeMd: 'var(--ui-input-font-size-md)',
  fontSizeLg: 'var(--ui-input-font-size-lg)',

  // Spacing
  paddingXSm: 'var(--ui-input-padding-x-sm)',
  paddingYSm: 'var(--ui-input-padding-y-sm)',
  paddingXMd: 'var(--ui-input-padding-x-md)',
  paddingYMd: 'var(--ui-input-padding-y-md)',
  paddingXLg: 'var(--ui-input-padding-x-lg)',
  paddingYLg: 'var(--ui-input-padding-y-lg)',

  // Default state
  bg: 'var(--ui-input-bg)',
  text: 'var(--ui-input-text)',
  border: 'var(--ui-input-border)',
  placeholder: 'var(--ui-input-placeholder)',

  // Focus state
  borderFocus: 'var(--ui-input-border-focus)',
  ring: 'var(--ui-input-ring)',

  // Error state
  borderError: 'var(--ui-input-border-error)',
  textError: 'var(--ui-input-text-error)',

  // Disabled state
  bgDisabled: 'var(--ui-input-bg-disabled)',
  textDisabled: 'var(--ui-input-text-disabled)',
  borderDisabled: 'var(--ui-input-border-disabled)',
},
textarea: {
  // Layout
  radius: 'var(--ui-textarea-radius)',
  borderWidth: 'var(--ui-textarea-border-width)',
  minHeight: 'var(--ui-textarea-min-height)',
  transition: 'var(--ui-textarea-transition)',

  // Typography
  fontSizeSm: 'var(--ui-textarea-font-size-sm)',
  fontSizeMd: 'var(--ui-textarea-font-size-md)',
  fontSizeLg: 'var(--ui-textarea-font-size-lg)',

  // Spacing
  paddingXSm: 'var(--ui-textarea-padding-x-sm)',
  paddingYSm: 'var(--ui-textarea-padding-y-sm)',
  paddingXMd: 'var(--ui-textarea-padding-x-md)',
  paddingYMd: 'var(--ui-textarea-padding-y-md)',
  paddingXLg: 'var(--ui-textarea-padding-x-lg)',
  paddingYLg: 'var(--ui-textarea-padding-y-lg)',

  // Default state
  bg: 'var(--ui-textarea-bg)',
  text: 'var(--ui-textarea-text)',
  border: 'var(--ui-textarea-border)',
  placeholder: 'var(--ui-textarea-placeholder)',

  // Focus state
  borderFocus: 'var(--ui-textarea-border-focus)',
  ring: 'var(--ui-textarea-ring)',

  // Error state
  borderError: 'var(--ui-textarea-border-error)',
  textError: 'var(--ui-textarea-text-error)',

  // Disabled state
  bgDisabled: 'var(--ui-textarea-bg-disabled)',
  textDisabled: 'var(--ui-textarea-text-disabled)',
  borderDisabled: 'var(--ui-textarea-border-disabled)',
},
```

Also add type helpers at the bottom of the file:
```typescript
export type InputToken = keyof typeof tokens.input;
export type TextareaToken = keyof typeof tokens.textarea;
```
  </action>
  <verify>
Run `npx tsc --noEmit -p packages/core/tsconfig.json` - should pass with no errors
Run `grep "input:" packages/core/src/tokens/index.ts` - should show the input token object
  </verify>
  <done>
TypeScript token exports exist for `tokens.input.*` and `tokens.textarea.*` with type helpers
  </done>
</task>

</tasks>

<verification>
1. CSS tokens exist: `grep -E "^  --ui-(input|textarea)-" packages/core/src/styles/tailwind.css | wc -l` should return ~46 lines
2. TypeScript compiles: `npx tsc --noEmit -p packages/core/tsconfig.json` passes
3. Token patterns correct: `grep "var(--color-.*var(--ui-color" packages/core/src/styles/tailwind.css` shows two-level fallback pattern
4. Build succeeds: `pnpm build --filter @lit-ui/core` completes without errors
</verification>

<success_criteria>
- [ ] Input component token block added to tailwind.css with 20+ tokens
- [ ] Textarea component token block added to tailwind.css with 20+ tokens
- [ ] All color tokens use two-level fallback pattern (var(--color-*, var(--ui-color-*)))
- [ ] Size variants (sm, md, lg) exist for padding and font-size
- [ ] State variants (focus, error, disabled) exist for border, background, and text
- [ ] TypeScript token exports added for input and textarea
- [ ] @lit-ui/core builds successfully
</success_criteria>

<output>
After completion, create `.planning/phases/26-css-tokens-foundation/26-01-SUMMARY.md`
</output>
