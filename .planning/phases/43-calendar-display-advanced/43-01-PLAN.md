---
phase: 43-calendar-display-advanced
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - packages/calendar/src/keyboard-nav.ts
autonomous: true

must_haves:
  truths:
    - "KeyboardNavigationManager accepts configurable column count"
    - "Default column count remains 7 for backward compatibility"
    - "Helper functions accept columns parameter"
  artifacts:
    - path: "packages/calendar/src/keyboard-nav.ts"
      provides: "Configurable column count for decade/century grids"
      contains: "constructor(elements: HTMLElement[], columns"
  key_links:
    - from: "packages/calendar/src/keyboard-nav.ts"
      to: "packages/calendar/src/calendar.ts"
      via: "constructor parameter"
      pattern: "new KeyboardNavigationManager.*columns"
---

<objective>
Make KeyboardNavigationManager's column count configurable via constructor parameter.

Purpose: Decade view (4x3 grid) and century view (4x3 grid) need 4-column navigation instead of the hardcoded 7-column calendar grid. This is a prerequisite for decade/century view keyboard support.
Output: Updated keyboard-nav.ts with configurable columns parameter (default 7).
</objective>

<execution_context>
@/Users/sn0w/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sn0w/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@packages/calendar/src/keyboard-nav.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Make KeyboardNavigationManager columns configurable</name>
  <files>packages/calendar/src/keyboard-nav.ts</files>
  <action>
Update the KeyboardNavigationManager class constructor to accept an optional `columns` parameter with default value of 7:

1. Change `private readonly columns = 7;` to `private readonly columns: number;`
2. Update constructor signature: `constructor(elements: HTMLElement[], columns: number = 7)`
3. Add `this.columns = columns;` in constructor body
4. All existing moveFocus logic already uses `this.columns` so no further changes needed there
5. Update JSDoc comments to document the new parameter
6. Update class-level doc to note configurable column support for decade/century grids

Do NOT change the existing Calendar usage - it will continue to work with default columns=7.
  </action>
  <verify>
Run `npx tsc --noEmit -p packages/calendar/tsconfig.json` to verify no type errors.
Verify existing Calendar class still compiles (it passes no columns argument, using default 7).
  </verify>
  <done>
KeyboardNavigationManager constructor accepts optional columns parameter (default 7). Existing code is backward compatible. TypeScript compiles without errors.
  </done>
</task>

</tasks>

<verification>
- `npx tsc --noEmit -p packages/calendar/tsconfig.json` passes
- KeyboardNavigationManager constructor has `columns: number = 7` parameter
- Existing `new KeyboardNavigationManager(cells)` call in calendar.ts still compiles
</verification>

<success_criteria>
KeyboardNavigationManager supports configurable column count while maintaining backward compatibility with existing 7-column calendar grid.
</success_criteria>

<output>
After completion, create `.planning/phases/43-calendar-display-advanced/43-01-SUMMARY.md`
</output>
