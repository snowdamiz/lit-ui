---
phase: 83-popover
plan: "02"
type: execute
wave: 2
depends_on:
  - "83-01"
files_modified:
  - apps/docs/src/pages/components/PopoverPage.tsx
autonomous: true
requirements:
  - POP-02

must_haves:
  truths:
    - "Popover CSS vars table in docs shows correct double-fallback var() form for color tokens matching :root"
    - "Shadow default in docs matches the two-layer value in tailwind.css :root"
    - "cssVarsCode example uses semantic token references (not hardcoded hex values)"
  artifacts:
    - path: "apps/docs/src/pages/components/PopoverPage.tsx"
      provides: "Accurate popoverCSSVars array and cssVarsCode example"
      contains: "var(--color-card, var(--ui-color-card))"
  key_links:
    - from: "apps/docs/src/pages/components/PopoverPage.tsx (popoverCSSVars)"
      to: "packages/core/src/styles/tailwind.css :root popover block"
      via: "CSS token default values must match exactly"
      pattern: "popoverCSSVars default strings = tailwind.css :root values verbatim"
---

<objective>
Update the `popoverCSSVars` array and `cssVarsCode` example string in `PopoverPage.tsx` so the docs accurately reflect the actual CSS token defaults from `tailwind.css` :root.

Purpose: Developers reading the docs get accurate defaults for overriding popover tokens. Stale/wrong defaults (single-fallback var(), wrong shadow, hardcoded hex) mislead developers.
Output: `PopoverPage.tsx` with corrected color token defaults (double-fallback form), corrected shadow (two-layer), and updated cssVarsCode example using semantic token references.
</objective>

<execution_context>
@/Users/sn0w/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sn0w/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

<interfaces>
<!-- Key context the executor needs. -->

Actual :root values from packages/core/src/styles/tailwind.css (ground truth):
```
--ui-popover-bg: var(--color-card, var(--ui-color-card));
--ui-popover-text: var(--color-card-foreground, var(--ui-color-card-foreground));
--ui-popover-border: var(--color-border, var(--ui-color-border));
--ui-popover-radius: 0.5rem;
--ui-popover-padding: 1rem;
--ui-popover-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.08), 0 4px 6px -4px rgb(0 0 0 / 0.08);
--ui-popover-arrow-size: 8px;
--ui-popover-max-width: 20rem;
--ui-popover-z-index: 45;
```

Current (stale) values in PopoverPage.tsx popoverCSSVars that need correction:
- --ui-popover-bg:     `var(--color-card)` → `var(--color-card, var(--ui-color-card))`
- --ui-popover-text:   `var(--color-card-foreground)` → `var(--color-card-foreground, var(--ui-color-card-foreground))`
- --ui-popover-border: `var(--color-border)` → `var(--color-border, var(--ui-color-border))`
- --ui-popover-shadow: `0 10px 15px -3px rgb(0 0 0 / 0.1)` → `0 10px 15px -3px rgb(0 0 0 / 0.08), 0 4px 6px -4px rgb(0 0 0 / 0.08)`

These 4 entries are stale. All other entries (radius, padding, arrow-size, max-width, z-index) already match :root.

Current cssVarsCode example (stale — uses hex literals):
```css
:root {
  --ui-popover-bg: white;
  --ui-popover-text: #1e293b;
  --ui-popover-border: #e2e8f0;
  --ui-popover-radius: 0.75rem;
  --ui-popover-padding: 1.25rem;
}
```

Replace cssVarsCode with semantic token references (pattern from Phase 82-02 tooltip fix):
```css
/* Global override - affects all popovers */
:root {
  --ui-popover-bg: var(--color-card, var(--ui-color-card));
  --ui-popover-text: var(--color-card-foreground, var(--ui-color-card-foreground));
  --ui-popover-border: var(--color-border, var(--ui-color-border));
  --ui-popover-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
}

/* Scoped override - only affects popovers in this container */
.compact-popovers {
  --ui-popover-padding: 0.5rem;
  --ui-popover-radius: 0.375rem;
}
```

Established pattern: Same fix was applied in Phase 82-02 (tooltip CSS vars corrected to double-fallback form).
</interfaces>
</context>

<tasks>

<task type="auto">
  <name>Task 1: Correct popoverCSSVars defaults and cssVarsCode example in PopoverPage.tsx</name>
  <files>apps/docs/src/pages/components/PopoverPage.tsx</files>
  <action>
    In `apps/docs/src/pages/components/PopoverPage.tsx`, update two sections:

    **1. Update the `popoverCSSVars` array (4 stale entries):**

    Change `--ui-popover-bg` default from:
    `'var(--color-card)'`
    to:
    `'var(--color-card, var(--ui-color-card))'`

    Change `--ui-popover-text` default from:
    `'var(--color-card-foreground)'`
    to:
    `'var(--color-card-foreground, var(--ui-color-card-foreground))'`

    Change `--ui-popover-border` default from:
    `'var(--color-border)'`
    to:
    `'var(--color-border, var(--ui-color-border))'`

    Change `--ui-popover-shadow` default from:
    `'0 10px 15px -3px rgb(0 0 0 / 0.1)'`
    to:
    `'0 10px 15px -3px rgb(0 0 0 / 0.08), 0 4px 6px -4px rgb(0 0 0 / 0.08)'`

    Do NOT change the other 5 entries (radius, padding, arrow-size, max-width, z-index) — they already match tailwind.css :root.

    **2. Replace the `cssVarsCode` string with semantic token references:**

    Replace the current hex-literal example with:
    ```
    const cssVarsCode = `/* Global override - affects all popovers */
    :root {
      --ui-popover-bg: var(--color-card, var(--ui-color-card));
      --ui-popover-text: var(--color-card-foreground, var(--ui-color-card-foreground));
      --ui-popover-border: var(--color-border, var(--ui-color-border));
      --ui-popover-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
    }

    /* Scoped override - only affects popovers in this container */
    .compact-popovers {
      --ui-popover-padding: 0.5rem;
      --ui-popover-radius: 0.375rem;
    }`;
    ```

    Do NOT change any other content in PopoverPage.tsx (props, slots, events, CSS parts, examples, demos, navigation).
  </action>
  <verify>
    <automated>grep -n "ui-popover-bg\|ui-popover-text\|ui-popover-border\|ui-popover-shadow" /Users/sn0w/Documents/dev/lit-components/apps/docs/src/pages/components/PopoverPage.tsx</automated>
    Expect: All color token entries show double-fallback var() form. Shadow shows two-layer value with 0.08 opacity. No hex literals (#1e293b, #e2e8f0, white) in cssVarsCode.
  </verify>
  <done>
    - `--ui-popover-bg` default: `var(--color-card, var(--ui-color-card))`
    - `--ui-popover-text` default: `var(--color-card-foreground, var(--ui-color-card-foreground))`
    - `--ui-popover-border` default: `var(--color-border, var(--ui-color-border))`
    - `--ui-popover-shadow` default: two-layer value with 0.08 opacity matching tailwind.css :root
    - `cssVarsCode` uses semantic token references, no hex literals
  </done>
</task>

</tasks>

<verification>
grep -n "ui-popover-bg\|ui-popover-text\|ui-popover-border\|ui-popover-shadow" apps/docs/src/pages/components/PopoverPage.tsx
Expected: 4 entries show the corrected defaults. No single-fallback var() form, no hex color strings.
</verification>

<success_criteria>
- All 9 CSS token defaults in `popoverCSSVars` match `tailwind.css` :root values exactly
- Color tokens (bg, text, border) use double-fallback var() form
- Shadow uses two-layer value with 0.08 opacity
- `cssVarsCode` example uses semantic token references (not hardcoded hex values)
</success_criteria>

<output>
After completion, create `.planning/phases/83-popover/83-02-SUMMARY.md`
</output>
