# Milestone v1.0: MVP

**Status:** SHIPPED 2026-01-24
**Phases:** 1-5
**Total Plans:** 22

## Overview

This roadmap delivered a framework-agnostic component library built on Lit.js with Tailwind styling, distributed via a CLI tool. The journey started with foundation work (Shadow DOM + Tailwind integration, TypeScript, design tokens), progressed through two MVP components (Button and Dialog) that validated all critical patterns, then built the CLI distribution system, and concluded with framework verification testing.

## Phases

### Phase 1: Foundation

**Goal**: Establish the technical foundation that all components depend on — Shadow DOM + Tailwind integration works, TypeScript is configured, design tokens are defined
**Depends on**: Nothing (first phase)
**Requirements**: FNDN-01, FNDN-02, FNDN-03
**Plans**: 4 plans

Plans:
- [x] 01-01-PLAN.md — Project setup with TypeScript, Vite, and dependencies
- [x] 01-02-PLAN.md — Design token system with Tailwind v4 @theme and dark mode
- [x] 01-03-PLAN.md — TailwindElement base class with Shadow DOM CSS injection
- [x] 01-04-PLAN.md — Demo component and dev server validation

**Details:**
- TailwindElement base class with constructable stylesheets
- Design token system with CSS custom properties
- :host-context(.dark) for Shadow DOM dark mode
- DemoCard component validating foundation works

### Phase 2: Button Component

**Goal**: A production-ready button component that validates styling patterns, state management, form participation, and basic accessibility
**Depends on**: Phase 1
**Requirements**: BTN-01, BTN-02, BTN-03, BTN-04, BTN-05, BTN-06, BTN-07, BTN-08
**Plans**: 4 plans

Plans:
- [x] 02-01-PLAN.md — Core button component with variants and sizes
- [x] 02-02-PLAN.md — Form participation and keyboard accessibility
- [x] 02-03-PLAN.md — Loading state with spinner and icon slots
- [x] 02-04-PLAN.md — Demo page and visual verification

**Details:**
- 5 variants (primary, secondary, outline, ghost, destructive)
- 3 sizes (sm, md, lg)
- Form participation via ElementInternals
- Loading state with pulsing dots spinner
- Icon slots (icon-start, icon-end)

### Phase 3: Dialog Component

**Goal**: A fully accessible modal dialog that validates complex accessibility patterns (focus management, ARIA across shadow boundaries, keyboard navigation)
**Depends on**: Phase 2
**Requirements**: DLG-01, DLG-02, DLG-03, DLG-04, DLG-05, DLG-06, DLG-07, DLG-08, DLG-09
**Plans**: 4 plans

Plans:
- [x] 03-01-PLAN.md — Core dialog with native `<dialog>`, open/close, focus trap, ARIA
- [x] 03-02-PLAN.md — Focus return, backdrop click, close event with reason
- [x] 03-03-PLAN.md — Enter/exit animations, reduced motion, body scroll lock
- [x] 03-04-PLAN.md — Nested dialogs, demo page, visual verification

**Details:**
- Native `<dialog>` with showModal() for built-in focus trap
- ARIA labelledby/describedby for accessibility
- CSS animations with prefers-reduced-motion support
- Body scroll lock via CSS :has() selector
- Nested dialog support via native top layer

### Phase 4: CLI

**Goal**: A distribution tool that lets users install components via `npx lit-ui add <component>` with build tool detection and Tailwind v4 support
**Depends on**: Phase 3
**Requirements**: CLI-01, CLI-02, CLI-03, CLI-04, CLI-05
**Plans**: 6 plans

Plans:
- [x] 04-01-PLAN.md — CLI scaffold with TypeScript, tsup, citty entry point
- [x] 04-02-PLAN.md — Utility layer (config, build tool detection, PM detection)
- [x] 04-03-PLAN.md — Component registry JSON and registry utilities
- [x] 04-04-PLAN.md — Init command with config creation and base file copying
- [x] 04-05-PLAN.md — Add command with dependency resolution and conflict handling
- [x] 04-06-PLAN.md — List command and full CLI verification

**Details:**
- citty for CLI framework (TypeScript-first, lightweight)
- tsup for bundling with shebang injection
- Build tool detection (Vite, Webpack, esbuild)
- Embedded templates for portable npm publishing

### Phase 5: Framework Verification

**Goal**: Verify that Button and Dialog components work correctly in React 19+, Vue 3, and Svelte 5 without framework-specific wrappers
**Depends on**: Phase 4
**Requirements**: FWK-01, FWK-02, FWK-03
**Plans**: 4 plans

Plans:
- [x] 05-01-PLAN.md — React 19 test app with Button and Dialog verification
- [x] 05-02-PLAN.md — Vue 3 test app with isCustomElement config and verification
- [x] 05-03-PLAN.md — Svelte 5 test app with runes-based reactivity verification
- [x] 05-04-PLAN.md — Final human verification and documentation

**Details:**
- React 19: declare module augmentation for JSX types
- Vue 3: isCustomElement config in vite.config.ts
- Svelte 5: $state() runes for reactive binding
- All 18 feature checks passed across 3 frameworks

---

## Milestone Summary

**Key Decisions:**

- ESM-only library output (no CJS) per research recommendation
- lit as peerDependency for consumer flexibility
- useDefineForClassFields: false required for Lit reactive properties
- Parse CSS at module level for performance (constructable stylesheets)
- Prepend Tailwind styles so component styles can override
- Guard document access for SSR compatibility
- Use :host-context(.dark) for Shadow DOM dark mode
- Use aria-disabled instead of HTML disabled for screen reader accessibility
- Native <dialog> with showModal() for automatic focus trapping
- ElementInternals for form-associated custom elements
- citty for CLI framework (lightweight, TypeScript-first)
- Embedded templates for add command (portable for npm publishing)

**Issues Resolved:**

- Dark mode in Shadow DOM (solved with :host-context)
- Tailwind CSS isolation in Shadow DOM (solved with constructable stylesheets)
- Form participation for custom elements (solved with ElementInternals)
- Dialog centering (solved with margin: auto on native dialog)
- ESM compatibility for JSON imports (solved with createRequire pattern)

**Issues Deferred:**

- NPM package mode (deferred to v2.0)
- SSR compatibility with Declarative Shadow DOM (deferred to v2.0)
- Auto-update mechanism for installed components (deferred to v2.0)

**Technical Debt Incurred:**

- Copy-source only distribution (NPM mode needed for auto-updates)
- No SSR support yet (Declarative Shadow DOM required)
- Test apps in examples/ not included in CLI distribution

---

_For current project status, see .planning/PROJECT.md_
