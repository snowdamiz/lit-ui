# Milestone v4.3: Date/Time Components

**Status:** ✅ SHIPPED 2026-02-02
**Phases:** 42-50
**Total Plans:** 54

## Overview

Add Calendar, Date Picker, Date Range Picker, and Time Picker components for complete date/time input capabilities.

## Phases

### Phase 42: Calendar Display Foundation

**Goal**: Standalone calendar component with month grid, navigation, keyboard accessibility, and screen reader support.
**Depends on**: Phase 41
**Plans**: 8 plans

Plans:
- [x] 42-01-PLAN.md — Package setup, date utilities, and calendar grid layout with 7-column structure
- [x] 42-02-PLAN.md — Date cell rendering with today indicator and selected date states
- [x] 42-03-PLAN.md — Month navigation with previous/next buttons and month/year selectors
- [x] 42-04-PLAN.md — Keyboard navigation with roving tabindex (imperative KeyboardNavigationManager)
- [x] 42-05-PLAN.md — Screen reader support with aria-live regions and keyboard help dialog
- [x] 42-06-PLAN.md — Date constraints (min/max, disabled dates) with accessibility
- [x] 42-07-PLAN.md — Internationalization (first day of week, month/day names) via Intl API
- [x] 42-08-PLAN.md — Dark mode, SSR, CSS tokens, JSX types, and package exports

### Phase 43: Calendar Display Advanced

**Goal**: Advanced calendar features including multiple months, decade/century views, animations, and touch gestures.
**Depends on**: Phase 42
**Plans**: 8 plans

Plans:
- [x] 43-01-PLAN.md — Add setColumns()/getColumns() to KeyboardNavigationManager for runtime column switching
- [x] 43-02-PLAN.md — Create GestureHandler (Pointer Events swipe) and AnimationController (slide/fade transitions)
- [x] 43-03-PLAN.md — Add ISO week number utilities (getISOWeekNumber, getISOWeekDates, getMonthWeeks)
- [x] 43-04-PLAN.md — Add decade (4x3 year grid) and century (4x3 decade grid) views with view drilling
- [x] 43-05-PLAN.md — Integrate animations, swipe gestures, week numbers column, and renderDay callback
- [x] 43-06-PLAN.md — Add display-month/hide-navigation props and CalendarMulti wrapper component
- [x] 43-07-PLAN.md — Add responsive container query layout (compact/standard/spacious breakpoints)
- [x] 43-08-PLAN.md — Update package exports, JSX types, and lui-calendar-multi registration

### Phase 44: Date Picker Core

**Goal**: Single date picker with input field, calendar popup, positioning, form integration, and validation.
**Depends on**: Phase 42
**Plans**: 5 plans

Plans:
- [x] 44-01-PLAN.md — Package scaffolding and TDD date input parser (multi-format parsing)
- [x] 44-02-PLAN.md — Component core with input field, calendar popup, clear button, form integration
- [x] 44-03-PLAN.md — Floating UI popup positioning with flip/shift and click-outside detection
- [x] 44-04-PLAN.md — Focus management (trap in popup, restore on close) and validation states
- [x] 44-05-PLAN.md — Package exports, custom element registration, and React JSX types

### Phase 45: Date Picker Advanced

**Goal**: Advanced date picker features including natural language parsing, presets, inline mode, and custom formatting.
**Depends on**: Phase 44
**Plans**: 5 plans

Plans:
- [x] 45-01-PLAN.md — Natural language date parser (TDD) with dictionary-based phrase resolution
- [x] 45-02-PLAN.md — Preset buttons (Today, Tomorrow, Next Week) and custom format prop
- [x] 45-03-PLAN.md — Inline mode with always-visible calendar rendering
- [x] 45-04-PLAN.md — Min/max constraint tooltips on disabled calendar dates
- [x] 45-05-PLAN.md — Dark mode, SSR compatibility, package exports, and JSX types

### Phase 46: Date Range Picker Core

**Goal**: Date range picker with start/end selection, two calendars, range highlighting, hover preview, and validation.
**Depends on**: Phase 42
**Plans**: 5 plans

Plans:
- [x] 46-01-PLAN.md — Package scaffolding, range utilities (TDD), and range selection state machine
- [x] 46-02-PLAN.md — Dual calendar layout with synchronized navigation and range highlighting via renderDay
- [x] 46-03-PLAN.md — Input field, Floating UI popup, click-outside, focus trap, and Escape handling
- [x] 46-04-PLAN.md — Form integration via ElementInternals, range validation, clear button, error display
- [x] 46-05-PLAN.md — Dark mode styles, package exports, custom element registration, and JSX types

### Phase 47: Date Range Picker Advanced

**Goal**: Advanced range picker features including presets, drag selection, duration display, and comparison mode.
**Depends on**: Phase 46
**Plans**: 5 plans

Plans:
- [x] 47-01-PLAN.md — TDD: DateRangePreset types and computeRangeDuration utility
- [x] 47-02-PLAN.md — Mouse drag selection via Pointer Events
- [x] 47-03-PLAN.md — Preset sidebar buttons and duration display in popup
- [x] 47-04-PLAN.md — Comparison mode with dual range selection
- [x] 47-05-PLAN.md — Dark mode styles, SSR compatibility, exports, and JSX types

### Phase 48: Time Picker Core

**Goal**: Time picker with hour/minute inputs, clock face, validation, and form integration.
**Depends on**: Phase 41
**Plans**: 6 plans

Plans:
- [x] 48-01-PLAN.md — Package scaffolding, time-utils TDD, and time preset types
- [x] 48-02-PLAN.md — Time input spinbuttons with AM/PM toggle and 12/24-hour format
- [x] 48-03-PLAN.md — SVG clock face interface with hour/minute selection and pointer events
- [x] 48-04-PLAN.md — Time dropdown listbox interface with configurable step intervals
- [x] 48-05-PLAN.md — Main time-picker component with popup, form integration, validation, presets
- [x] 48-06-PLAN.md — Dark mode styles, package exports, custom element registration, JSX types

### Phase 49: Time Picker Advanced

**Goal**: Advanced time picker features including business hours, time interval slider, timezone support, and voice input.
**Depends on**: Phase 48
**Plans**: 6 plans

Plans:
- [x] 49-01-PLAN.md — Time interval snapping on clock face + business hours highlighting
- [x] 49-02-PLAN.md — Multi-timezone display component
- [x] 49-03-PLAN.md — Time range slider with dual handles
- [x] 49-04-PLAN.md — Mobile scroll wheels (iOS-style)
- [x] 49-05-PLAN.md — Voice input via Web Speech API
- [x] 49-06-PLAN.md — Integration into TimePicker + exports + JSX types

### Phase 50: Documentation

**Goal**: Component documentation pages, examples, accessibility notes, and CLI integration for all date/time components.
**Depends on**: Phases 42-49
**Plans**: 6 plans

Plans:
- [x] 50-01-PLAN.md — Infrastructure: JSX types, CLI registry, navigation/routing, PrevNextNav chain
- [x] 50-02-PLAN.md — Calendar page audit and Phase 42-43 advanced feature documentation
- [x] 50-03-PLAN.md — Date Picker documentation page
- [x] 50-04-PLAN.md — Date Range Picker documentation page
- [x] 50-05-PLAN.md — Time Picker documentation page
- [x] 50-06-PLAN.md — Guide pages: Accessibility, Form Integration, Internationalization

## Progress

| Phase | Plans Complete | Status | Completed |
|-------|----------------|--------|-----------|
| 42. Calendar Display Foundation | 8/8 | Complete | 2026-01-31 |
| 43. Calendar Display Advanced | 8/8 | Complete | 2026-01-31 |
| 44. Date Picker Core | 5/5 | Complete | 2026-01-31 |
| 45. Date Picker Advanced | 5/5 | Complete | 2026-01-31 |
| 46. Date Range Picker Core | 5/5 | Complete | 2026-01-31 |
| 47. Date Range Picker Advanced | 5/5 | Complete | 2026-01-31 |
| 48. Time Picker Core | 6/6 | Complete | 2026-01-31 |
| 49. Time Picker Advanced | 6/6 | Complete | 2026-02-02 |
| 50. Documentation | 6/6 | Complete | 2026-02-02 |

---

## Milestone Summary

**Key Decisions:**

- date-fns for date manipulation (Rationale: Comprehensive, tree-shakeable, immutable API)
- Intl API for calendar localization (Rationale: Zero-bundle-cost i18n, browser-native)
- KeyboardNavigationManager class (Rationale: Reusable imperative keyboard nav for grids)
- Two-click range selection state machine (Rationale: Clear UX, handles edge cases)
- SVG clock face for time picker (Rationale: Vector-based, scales to any size)
- Web Speech API for voice input (Rationale: Browser-native, progressive enhancement)
- Pointer Events for gestures (Rationale: Unified mouse/touch/pen API)

**Issues Resolved:**

- Phase 42 keyboard navigation gaps fixed during Phase 43 execution
- DP-01/02/03 requirements initially mapped to Phase 43 but delivered in Phase 44

**Issues Deferred:**

- CalendarMulti exported but unused by other packages (available for custom use)
- CLI registry.json incorrect time-picker→calendar dependency
- 30 CLI tests need update for CSS variable naming change (from v3.0)

**Technical Debt Incurred:**

- REQUIREMENTS.md traceability not updated for DP-01/02/03 and TP-01 through TP-15 (fixed at archival)

---

_For current project status, see .planning/PROJECT.md_
