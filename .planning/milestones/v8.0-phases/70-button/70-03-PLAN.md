---
phase: 70-button
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - skill/skills/button/SKILL.md
autonomous: true
requirements: [BTN-03]

must_haves:
  truths:
    - "skill/skills/button/SKILL.md describes all current props including btn-class"
    - "CSS custom property names use --ui-button-* prefix (not --lui-button-*)"
    - "All 5 variants are described with their behaviors"
    - "Auto-contrast mechanism is documented so Claude knows to expect it"
    - "Skill file accurately reflects what a Claude instance needs to use lui-button correctly"
  artifacts:
    - path: "skill/skills/button/SKILL.md"
      provides: "Accurate button skill reference for AI agents"
      contains: "--ui-button-radius"
  key_links:
    - from: "skill/skills/button/SKILL.md"
      to: "packages/button/src/button.ts"
      via: "prop names, variant names, slot names must match source"
      pattern: "btn-class|icon-start|icon-end"
---

<objective>
Rewrite the Button skill file (skill/skills/button/SKILL.md) to accurately describe the current component — correcting the --lui-* token prefix to --ui-*, adding missing props and variant behavior details, and documenting the auto-contrast feature.

Purpose: The current SKILL.md documents --lui-button-radius (old prefix) and is missing tokens introduced in v8.0 (the full --ui-button-* token set). Claude using this skill file would use the wrong CSS property names when helping developers customize the button.

Output: A concise, accurate skill reference Claude can use to implement lui-button correctly in any framework.
</objective>

<execution_context>
@/Users/sn0w/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sn0w/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/69-theme-foundation/THEME-SPEC.md

<interfaces>
<!-- Current SKILL.md content to replace -->
Current skill/skills/button/SKILL.md documents --lui-button-radius, --lui-button-shadow, --lui-button-font-weight (old prefix).

Correct component source (packages/button/src/button.ts) has:
- Props: variant (primary/secondary/outline/ghost/destructive), size (sm/md/lg), type (button/submit/reset), disabled (boolean), loading (boolean), btn-class (string)
- Slots: default, icon-start, icon-end
- CSS parts: button, icon-start, content, icon-end
- No custom events (uses standard DOM click)
- Form participation via ElementInternals (type=submit/reset works in forms)
- Loading: pulsing 3-dot spinner, aria-busy set, pointer-events: none
- Disabled: aria-disabled (stays in tab order), opacity: 0.5, cursor: not-allowed
- Auto-contrast: primary/secondary/destructive text color auto-calculated from background lightness (CSS relative color syntax, @supports guarded)
- Focus: outline: 2px solid var(--ui-focus-ring-color) with outline-offset: 2px

Correct CSS token names (from tailwind.css :root, matches THEME-SPEC.md):
Layout: --ui-button-radius (0.375rem), --ui-button-shadow (none), --ui-button-border-width (1px)
Typography: --ui-button-font-weight (500), --ui-button-font-size-{sm/md/lg}
Spacing: --ui-button-padding-{x,y}-{sm/md/lg}, --ui-button-gap-{sm/md/lg}
Colors: --ui-button-primary-bg, --ui-button-primary-text, --ui-button-secondary-bg, --ui-button-secondary-text, --ui-button-secondary-hover-bg, --ui-button-outline-{bg,text,border,hover-bg}, --ui-button-ghost-{bg,text,hover-bg}, --ui-button-destructive-{bg,text}
Hover: --ui-button-primary-hover-opacity (0.9), --ui-button-destructive-hover-opacity (0.9)
</interfaces>
</context>

<tasks>

<task type="auto">
  <name>Task 1: Rewrite skill/skills/button/SKILL.md with accurate v8.0 content</name>
  <files>skill/skills/button/SKILL.md</files>
  <action>
Rewrite skill/skills/button/SKILL.md entirely. The file must be a concise reference Claude can use to implement lui-button correctly. Use this structure:

```markdown
---
name: lit-ui-button
description: >-
  How to use <lui-button> — props, slots, events, CSS tokens, examples.
---

# Button

## Usage

```html
<lui-button variant="primary">Primary</lui-button>
<lui-button variant="secondary">Secondary</lui-button>
<lui-button variant="outline">Outline</lui-button>
<lui-button variant="ghost">Ghost</lui-button>
<lui-button variant="destructive">Destructive</lui-button>
```

```html
<lui-button loading>Loading...</lui-button>
<lui-button variant="secondary" loading>Saving</lui-button>
```

```html
<lui-button>
  <svg slot="icon-start" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/><path d="M12 5v14"/></svg>
  Add Item
</lui-button>
<lui-button variant="outline">
  Settings
  <svg slot="icon-end" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"/></svg>
</lui-button>
```

## Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| variant | `"primary" \| "secondary" \| "outline" \| "ghost" \| "destructive"` | `"primary"` | The visual style of the button. |
| size | `"sm" \| "md" \| "lg"` | `"md"` | The size affecting padding and font size. |
| type | `"button" \| "submit" \| "reset"` | `"button"` | The button type for form behavior. |
| disabled | `boolean` | `false` | Whether the button is disabled. Uses aria-disabled — stays in tab order. |
| loading | `boolean` | `false` | Shows a pulsing dots spinner and prevents interaction. |
| btn-class | `string` | `""` | Additional Tailwind classes applied to the inner button element. |

## Slots

| Slot | Description |
|------|-------------|
| (default) | Button text content. |
| icon-start | Icon placed before the text. Scales with button font-size via 1em. |
| icon-end | Icon placed after the text. Scales with button font-size via 1em. |

## Events

No custom events. Use standard DOM events (e.g. `click`).

## Behavior Notes

- **Form participation**: `type="submit"` and `type="reset"` work inside `<form>` elements via ElementInternals. This is client-side only.
- **Disabled state**: Uses `aria-disabled` (not the HTML `disabled` attribute), so the element stays focusable for screen readers. Visually: opacity 0.5, cursor not-allowed.
- **Loading state**: Replaces content with a 3-dot pulsing spinner. Sets `aria-busy` and `aria-label="Loading"`. Pointer-events disabled.
- **Auto-contrast**: For `primary`, `secondary`, and `destructive` variants, text color is automatically calculated from the background color lightness using CSS relative color syntax (requires browser support; static fallback provided).
- **Focus ring**: `outline: 2px solid var(--ui-focus-ring-color)` with `outline-offset: 2px` on `:focus-visible`.

## CSS Custom Properties

| Property | Default | Description |
|----------|---------|-------------|
| `--ui-button-radius` | `0.375rem` | Border radius of the button. |
| `--ui-button-shadow` | `none` | Box shadow of the button. |
| `--ui-button-border-width` | `1px` | Border width (used by outline variant). |
| `--ui-button-font-weight` | `500` | Font weight of the button text. |
| `--ui-button-font-size-sm` | `0.875rem` | Font size for size="sm". |
| `--ui-button-font-size-md` | `1rem` | Font size for size="md". |
| `--ui-button-font-size-lg` | `1.125rem` | Font size for size="lg". |
| `--ui-button-padding-x-md` | `1rem` | Horizontal padding for size="md". |
| `--ui-button-padding-y-md` | `0.5rem` | Vertical padding for size="md". |
| `--ui-button-primary-bg` | `var(--color-primary, var(--ui-color-primary))` | Primary variant background. |
| `--ui-button-secondary-bg` | `var(--color-secondary, var(--ui-color-secondary))` | Secondary variant background. |
| `--ui-button-destructive-bg` | `var(--color-destructive, var(--ui-color-destructive))` | Destructive variant background. |

## CSS Parts

| Part | Description |
|------|-------------|
| `button` | The inner button element. |
| `icon-start` | The icon-start slot wrapper. |
| `content` | The default slot wrapper for button text. |
| `icon-end` | The icon-end slot wrapper. |
```

Write this content exactly as shown above. Do not add or remove sections.
  </action>
  <verify>
    <automated>grep -c "lui-button" /Users/sn0w/Documents/dev/lit-components/skill/skills/button/SKILL.md</automated>
  </verify>
  <done>Running `grep "lui-button" skill/skills/button/SKILL.md` returns 0. The file contains --ui-button-radius, --ui-button-shadow, and all 5 variant names. The Behavior Notes section exists with auto-contrast and form participation documented.</done>
</task>

</tasks>

<verification>
1. Run: `grep "lui-button" skill/skills/button/SKILL.md` — should return no matches
2. Run: `grep "ui-button-radius" skill/skills/button/SKILL.md` — should return a match
3. Run: `grep "btn-class" skill/skills/button/SKILL.md` — should return a match (prop documented)
4. Run: `grep "Auto-contrast\|auto-contrast" skill/skills/button/SKILL.md` — should return a match
</verification>

<success_criteria>
- No --lui-button-* references in SKILL.md
- All 6 props documented (variant, size, type, disabled, loading, btn-class)
- CSS custom properties listed with --ui-button-* names matching tailwind.css
- Behavior Notes section describes auto-contrast, form participation, disabled/loading behavior
- BTN-03 satisfied: skill/skills/button accurately describes the component
</success_criteria>

<output>
After completion, create `.planning/phases/70-button/70-03-SUMMARY.md` with what changed (prefix fix, added behavior notes, expanded token list).
</output>
