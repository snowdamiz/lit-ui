---
phase: 70-button
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - packages/core/src/styles/tailwind.css
autonomous: true
requirements: [BTN-01]

must_haves:
  truths:
    - "Button renders with near-black primary background in light mode (not a custom hardcoded color)"
    - "Button dark mode tokens inherit from semantic .dark overrides — no hardcoded oklch values in the .dark block"
    - "All 5 variants use the double-fallback pattern: var(--color-semantic, var(--ui-color-semantic))"
    - "Button token defaults in :root match the THEME-SPEC.md values exactly"
  artifacts:
    - path: "packages/core/src/styles/tailwind.css"
      provides: "Button CSS tokens in :root and cleaned-up .dark block"
      contains: "--ui-button-primary-bg"
  key_links:
    - from: "packages/core/src/styles/tailwind.css (.dark block)"
      to: "Semantic dark tokens (.dark { --ui-color-primary, --ui-color-secondary, etc. })"
      via: "double-fallback var(--color-*, var(--ui-color-*))"
      pattern: "ui-button.*var\\(--color-"
---

<objective>
Polish the Button component CSS defaults in tailwind.css to precisely match the v8.0 monochrome shadcn theme per THEME-SPEC.md.

Purpose: The .dark block in tailwind.css contains hardcoded oklch values for button tokens (lines 392-406) instead of relying on the semantic dark mode overrides. This means button color tokens in dark mode bypass the semantic theme layer, breaking the double-fallback contract. The :root block tokens are correct — the dark mode block needs cleanup.

Output: The .dark block no longer overrides button color tokens (the semantic .dark overrides of --ui-color-* are sufficient). The :root button token defaults exactly match THEME-SPEC.md values.
</objective>

<execution_context>
@/Users/sn0w/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sn0w/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/69-theme-foundation/THEME-SPEC.md

<interfaces>
<!-- Current state of button tokens in tailwind.css. Executor should verify these before editing. -->

From packages/core/src/styles/tailwind.css (:root block, correct — matches THEME-SPEC):
```css
/* Layout */
--ui-button-radius: 0.375rem;
--ui-button-shadow: none;
--ui-button-border-width: 1px;

/* Typography */
--ui-button-font-weight: 500;
--ui-button-font-size-sm: 0.875rem;
--ui-button-font-size-md: 1rem;
--ui-button-font-size-lg: 1.125rem;

/* Spacing */
--ui-button-padding-x-sm: 0.75rem;
--ui-button-padding-y-sm: 0.375rem;
--ui-button-gap-sm: 0.375rem;
--ui-button-padding-x-md: 1rem;
--ui-button-padding-y-md: 0.5rem;
--ui-button-gap-md: 0.5rem;
--ui-button-padding-x-lg: 1.5rem;
--ui-button-padding-y-lg: 0.75rem;
--ui-button-gap-lg: 0.625rem;

/* Variant Colors - all use double-fallback (CORRECT) */
--ui-button-primary-bg: var(--color-primary, var(--ui-color-primary));
--ui-button-primary-text: var(--color-primary-foreground, var(--ui-color-primary-foreground));
--ui-button-primary-hover-opacity: 0.9;
--ui-button-secondary-bg: var(--color-secondary, var(--ui-color-secondary));
--ui-button-secondary-text: var(--color-secondary-foreground, var(--ui-color-secondary-foreground));
--ui-button-secondary-hover-bg: var(--color-accent, var(--ui-color-accent));
--ui-button-outline-bg: transparent;
--ui-button-outline-text: var(--color-foreground, var(--ui-color-foreground));
--ui-button-outline-border: var(--color-border, var(--ui-color-border));
--ui-button-outline-hover-bg: var(--color-accent, var(--ui-color-accent));
--ui-button-ghost-bg: transparent;
--ui-button-ghost-text: var(--color-foreground, var(--ui-color-foreground));
--ui-button-ghost-hover-bg: var(--color-accent, var(--ui-color-accent));
--ui-button-destructive-bg: var(--color-destructive, var(--ui-color-destructive));
--ui-button-destructive-text: var(--color-destructive-foreground, var(--ui-color-destructive-foreground));
--ui-button-destructive-hover-opacity: 0.9;
```

From packages/core/src/styles/tailwind.css (.dark block, PROBLEMATIC — needs removal):
```css
/* Button dark mode — WRONG: hardcoded values that bypass semantic layer */
--ui-button-primary-bg: oklch(0.985 0 0);
--ui-button-primary-text: oklch(0.18 0 0);
--ui-button-secondary-bg: oklch(0.27 0 0);
--ui-button-secondary-text: oklch(0.96 0 0);
--ui-button-secondary-hover-bg: oklch(0.37 0 0);
--ui-button-outline-bg: transparent;
--ui-button-outline-text: oklch(0.985 0 0);
--ui-button-outline-border: oklch(0.37 0 0);
--ui-button-outline-hover-bg: oklch(0.27 0 0);
--ui-button-ghost-bg: transparent;
--ui-button-ghost-text: oklch(0.985 0 0);
--ui-button-ghost-hover-bg: oklch(0.27 0 0);
--ui-button-destructive-bg: oklch(0.55 0.22 25);
--ui-button-destructive-text: white;
```

Why these should be removed: The .dark semantic block already defines --ui-color-primary as near-white (oklch(0.985 0 0)), --ui-color-secondary as dark gray (oklch(0.27 0 0)), etc. The :root button color tokens use var(--color-primary, var(--ui-color-primary)). When .dark overrides --ui-color-primary, the button tokens automatically pick up the dark value. The explicit .dark button overrides are REDUNDANT and hardcoded — violating the double-fallback contract.

Exception: --ui-button-outline-bg: transparent and --ui-button-ghost-bg: transparent are the same as :root so they're safe to remove. --ui-button-destructive-hover-opacity is not in the .dark block (correctly omitted — it doesn't change).
</interfaces>
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove hardcoded button tokens from .dark block in tailwind.css</name>
  <files>packages/core/src/styles/tailwind.css</files>
  <action>
In packages/core/src/styles/tailwind.css, find the .dark block. Locate the "/* Button dark mode */" comment and the 14 lines of hardcoded --ui-button-* overrides below it (primary-bg, primary-text, secondary-bg, secondary-text, secondary-hover-bg, outline-bg, outline-text, outline-border, outline-hover-bg, ghost-bg, ghost-text, ghost-hover-bg, destructive-bg, destructive-text).

Remove the entire "/* Button dark mode */" comment and all 14 --ui-button-* property lines from the .dark block.

These overrides are redundant: the .dark block already overrides the semantic --ui-color-* tokens (primary, secondary, foreground, border, accent, destructive, etc.), and the :root button tokens use the double-fallback pattern var(--color-*, var(--ui-color-*)), so they automatically pick up the dark semantic values without explicit button token overrides.

Do NOT modify the :root block — it is correct and matches THEME-SPEC.md. Do NOT modify button.ts — the component CSS is correct.

After editing, verify the .dark block no longer contains any --ui-button-* declarations.
  </action>
  <verify>
    <automated>grep -n "ui-button" /Users/sn0w/Documents/dev/lit-components/packages/core/src/styles/tailwind.css | grep -v "^\s*[0-9]*:.*:root" | grep "\.dark" || grep -c "ui-button-primary-bg: oklch" /Users/sn0w/Documents/dev/lit-components/packages/core/src/styles/tailwind.css</automated>
  </verify>
  <done>The .dark block contains no --ui-button-* declarations. The :root block still has all button tokens using double-fallback pattern. Running grep for "--ui-button" in the file shows only :root block entries (lines 534-579 range), none inside .dark.</done>
</task>

</tasks>

<verification>
1. Run: `grep -n "ui-button" packages/core/src/styles/tailwind.css` — all results should be in the `:root` block only, not in the `.dark` block
2. Run: `grep -c "ui-button-primary-bg: oklch" packages/core/src/styles/tailwind.css` — should output `0`
3. Run: `grep "ui-button-primary-bg" packages/core/src/styles/tailwind.css` — should show only the :root entry with `var(--color-primary, var(--ui-color-primary))`
</verification>

<success_criteria>
- The .dark block no longer contains any --ui-button-* properties
- The :root block button tokens remain intact and match THEME-SPEC.md
- Button dark mode appearance is now governed entirely by the semantic .dark overrides (--ui-color-primary → near-white in dark, etc.)
- BTN-01 satisfied: Button default styles match the v8.0 monochrome theme via the correct token inheritance chain
</success_criteria>

<output>
After completion, create `.planning/phases/70-button/70-01-SUMMARY.md` with what was changed, why, and the before/after for the .dark block removal.
</output>
