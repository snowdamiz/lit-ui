---
phase: 73-textarea
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - packages/core/src/styles/tailwind.css
autonomous: true
requirements: [TXT-01]

must_haves:
  truths:
    - "Textarea dark mode tokens inherit from semantic .dark overrides — no hardcoded oklch values in the .dark block"
    - "All textarea state tokens (bg, text, border, placeholder, focus, disabled) use the double-fallback pattern in :root"
    - "Textarea token defaults in :root match the THEME-SPEC.md values exactly"
  artifacts:
    - path: "packages/core/src/styles/tailwind.css"
      provides: "Textarea CSS tokens in :root and cleaned-up .dark block"
      contains: "--ui-textarea-bg: var(--color-background"
  key_links:
    - from: "packages/core/src/styles/tailwind.css (.dark block)"
      to: "Semantic dark tokens (.dark { --color-background, --color-foreground, --color-border, etc. })"
      via: "double-fallback var(--color-*, var(--ui-color-*))"
      pattern: "ui-textarea.*var\\(--color-"
---

<objective>
Polish the Textarea component CSS defaults in tailwind.css to match the v8.0 monochrome theme by removing redundant hardcoded dark mode overrides.

Purpose: The .dark block in tailwind.css contains 9 hardcoded oklch values for textarea tokens (lines 392-401). These bypass the semantic dark mode token cascade. The :root block tokens correctly use the double-fallback pattern — but the .dark block overrides them with raw oklch values, breaking the token contract. The same pattern was applied to Button (Phase 70-01), Dialog (Phase 71-01), and Input (Phase 72-01).

Output: The .dark block no longer overrides textarea color tokens. The semantic .dark overrides of --color-background, --color-foreground, --color-border, --color-muted-foreground, --color-ring, and --color-muted are sufficient to drive textarea dark mode appearance via the :root double-fallback cascade.
</objective>

<execution_context>
@/Users/sn0w/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sn0w/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/69-theme-foundation/THEME-SPEC.md

<interfaces>
<!-- Current state of textarea tokens in tailwind.css. Executor should verify these before editing. -->

From packages/core/src/styles/tailwind.css (:root block, CORRECT — matches THEME-SPEC):
```css
/* Layout */
--ui-textarea-radius: 0.375rem;
--ui-textarea-border-width: 1px;
--ui-textarea-min-height: 5rem;
--ui-textarea-transition: 150ms;

/* Typography */
--ui-textarea-font-size-sm: 0.875rem;
--ui-textarea-font-size-md: 1rem;
--ui-textarea-font-size-lg: 1.125rem;

/* Spacing */
--ui-textarea-padding-x-sm: 0.75rem;
--ui-textarea-padding-y-sm: 0.375rem;
--ui-textarea-padding-x-md: 1rem;
--ui-textarea-padding-y-md: 0.5rem;
--ui-textarea-padding-x-lg: 1.25rem;
--ui-textarea-padding-y-lg: 0.75rem;

/* Default state colors — all use double-fallback (CORRECT) */
--ui-textarea-bg: var(--color-background, white);
--ui-textarea-text: var(--color-foreground, var(--ui-color-foreground));
--ui-textarea-border: var(--color-border, var(--ui-color-border));
--ui-textarea-placeholder: var(--color-muted-foreground, var(--ui-color-muted-foreground));

/* Focus state */
--ui-textarea-border-focus: var(--color-ring, var(--ui-color-ring));
--ui-textarea-ring: var(--color-ring, var(--ui-color-ring));

/* Error state */
--ui-textarea-border-error: var(--color-destructive, var(--ui-color-destructive));
--ui-textarea-text-error: var(--color-destructive, var(--ui-color-destructive));

/* Disabled state */
--ui-textarea-bg-disabled: var(--color-muted, var(--ui-color-muted));
--ui-textarea-text-disabled: var(--color-muted-foreground, var(--ui-color-muted-foreground));
--ui-textarea-border-disabled: var(--color-border, var(--ui-color-border));
```

From packages/core/src/styles/tailwind.css (.dark block, PROBLEMATIC — needs removal):
```css
/* Textarea dark mode */
--ui-textarea-bg: oklch(0.10 0 0);
--ui-textarea-text: oklch(0.985 0 0);
--ui-textarea-border: oklch(0.37 0 0);
--ui-textarea-placeholder: oklch(0.55 0 0);
--ui-textarea-border-focus: oklch(0.71 0 0);
--ui-textarea-ring: oklch(0.55 0 0);
--ui-textarea-bg-disabled: oklch(0.18 0 0);
--ui-textarea-text-disabled: oklch(0.55 0 0);
--ui-textarea-border-disabled: oklch(0.37 0 0);
```

Why these should be removed: The .dark semantic block already defines:
- `--color-background: oklch(0.10 0 0)` → --ui-textarea-bg inherits via var(--color-background, white)
- `--color-foreground: oklch(0.985 0 0)` → --ui-textarea-text inherits via var(--color-foreground, ...)
- `--color-border: oklch(0.37 0 0)` → --ui-textarea-border and --ui-textarea-border-disabled inherit
- `--color-muted-foreground: oklch(0.71 0 0)` → --ui-textarea-placeholder inherits
- `--color-ring: oklch(0.55 0 0)` → --ui-textarea-border-focus and --ui-textarea-ring inherit
- `--color-muted: oklch(0.27 0 0)` → --ui-textarea-bg-disabled inherits (was oklch(0.18) before; correct value is from --color-muted)
The explicit .dark textarea overrides are redundant and violate the double-fallback contract.

Note: --ui-textarea-border-error and --ui-textarea-text-error are NOT in the .dark block (correctly omitted — destructive color changes in .dark are handled by the --color-destructive semantic override).
</interfaces>
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove hardcoded textarea tokens from .dark block in tailwind.css</name>
  <files>packages/core/src/styles/tailwind.css</files>
  <action>
In packages/core/src/styles/tailwind.css, find the .dark block. Locate the "/* Textarea dark mode */" comment and the 9 lines of hardcoded --ui-textarea-* overrides below it (bg, text, border, placeholder, border-focus, ring, bg-disabled, text-disabled, border-disabled).

Remove the entire "/* Textarea dark mode */" comment and all 9 --ui-textarea-* property lines from the .dark block.

These overrides are redundant: the .dark block already overrides the semantic --color-* tokens (background, foreground, border, muted-foreground, ring, muted), and the :root textarea tokens use the double-fallback pattern var(--color-*, var(--ui-color-*)), so they automatically pick up the correct dark values without explicit textarea token overrides.

Do NOT modify the :root block — it is correct and matches THEME-SPEC.md. Do NOT modify textarea.ts — the component CSS is correct.

After editing, verify the .dark block no longer contains any --ui-textarea-* declarations.
  </action>
  <verify>
    <automated>grep "ui-textarea" /Users/sn0w/Documents/dev/lit-components/packages/core/src/styles/tailwind.css | grep -v "var(--color-" | grep -v ":root" | grep -v "^--ui-textarea" | wc -l</automated>
  </verify>
  <done>The .dark block contains no --ui-textarea-* declarations. The :root block still has all textarea tokens using the double-fallback pattern. Running `grep -n "ui-textarea" packages/core/src/styles/tailwind.css` shows only :root block entries, none inside .dark.</done>
</task>

</tasks>

<verification>
1. Run: `grep -n "ui-textarea" packages/core/src/styles/tailwind.css` — all results should be in the `:root` block only, not in the `.dark` block
2. Run: `grep -c "ui-textarea-bg: oklch" packages/core/src/styles/tailwind.css` — should output `0`
3. Run: `grep "ui-textarea-bg" packages/core/src/styles/tailwind.css` — should show only the :root entry with `var(--color-background, white)`
</verification>

<success_criteria>
- The .dark block no longer contains any --ui-textarea-* properties
- The :root block textarea tokens remain intact and match THEME-SPEC.md
- Textarea dark mode appearance is now governed entirely by the semantic .dark overrides
- TXT-01 satisfied: Textarea default styles match the v8.0 monochrome theme via the correct token inheritance chain
</success_criteria>

<output>
After completion, create `.planning/phases/73-textarea/73-01-SUMMARY.md` with what was changed, why, and the before/after for the .dark block removal.
</output>
