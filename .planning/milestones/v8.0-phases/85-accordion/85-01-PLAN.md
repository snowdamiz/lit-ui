---
phase: 85-accordion
plan: "01"
type: execute
wave: 1
depends_on: []
files_modified:
  - packages/core/src/styles/tailwind.css
autonomous: true
requirements:
  - ACC-01

must_haves:
  truths:
    - "Accordion renders with correct monochrome colors in dark mode via semantic cascade (no hardcoded gray values in .dark for accordion)"
    - "The .dark block in tailwind.css no longer contains any --ui-accordion-* declarations"
    - "The :root block accordion tokens are untouched and use double-fallback var() form for color tokens"
  artifacts:
    - path: "packages/core/src/styles/tailwind.css"
      provides: "Accordion token defaults in :root; all 4 accordion .dark declarations removed"
      contains: "--ui-accordion-border: var(--color-border, var(--ui-color-border))"
  key_links:
    - from: "packages/core/src/styles/tailwind.css (.dark block)"
      to: "accordion component dark mode appearance"
      via: "semantic cascade: .dark --color-foreground cascades into --ui-accordion-header-text"
      pattern: "Remove 5 lines (comment + 4 --ui-accordion-* declarations) from .dark block"
---

<objective>
Remove the 4 hardcoded accordion dark mode overrides from the `.dark` block in `tailwind.css`. The `:root` block already uses double-fallback semantic tokens that cascade correctly in dark mode — the explicit overrides are redundant and use raw `var(--color-gray-*)` values.

Unlike checkbox (check-color: white) or switch (thumb-bg: white), accordion has no exceptions — all 4 tokens cascade correctly via semantic `.dark` overrides.

Purpose: Accordion dark mode cascades automatically via `.dark --color-foreground`, `.dark --color-muted`, `.dark --color-border`, and `.dark --color-muted-foreground`, exactly as established in Phases 70–84.
Output: `tailwind.css` with 5 fewer lines (comment + 4 accordion dark declarations) in the `.dark` block.
</objective>

<execution_context>
@/Users/sn0w/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sn0w/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

<interfaces>
<!-- Key context the executor needs. -->

From packages/core/src/styles/tailwind.css :root block (ground truth — these stay unchanged):
```css
  --ui-accordion-border: var(--color-border, var(--ui-color-border));
  --ui-accordion-border-width: 1px;
  --ui-accordion-radius: 0.375rem;
  --ui-accordion-gap: 0;

  --ui-accordion-header-padding: 1rem;
  --ui-accordion-header-font-weight: 500;
  --ui-accordion-header-font-size: 1rem;
  --ui-accordion-header-text: var(--color-foreground, var(--ui-color-foreground));
  --ui-accordion-header-bg: transparent;
  --ui-accordion-header-hover-bg: var(--color-muted, var(--ui-color-muted));

  --ui-accordion-panel-padding: 0 1rem 1rem;
  --ui-accordion-panel-text: var(--color-muted-foreground, var(--ui-color-muted-foreground));

  --ui-accordion-transition: 200ms;

  --ui-accordion-ring: var(--color-ring, var(--ui-color-ring));
```

From packages/core/src/styles/tailwind.css .dark block — ONLY THESE 5 LINES ARE TO BE REMOVED:
```css
  /* Accordion dark mode */
  --ui-accordion-header-text: var(--color-gray-50);
  --ui-accordion-header-hover-bg: var(--color-gray-800);
  --ui-accordion-border: var(--color-gray-800);
  --ui-accordion-panel-text: var(--color-gray-400);
```

Why removal is safe (no exceptions needed):
- `:root` defines `--ui-accordion-header-text: var(--color-foreground, var(--ui-color-foreground))`
- `.dark` overrides `--color-foreground` to a light value (gray-50 equivalent) — semantic cascade sufficient
- Same reasoning for hover-bg (--color-muted), border (--color-border), panel-text (--color-muted-foreground)
- No raw color literals (white, oklch()) that would require .dark exceptions — unlike checkbox check-color or switch thumb-bg
</interfaces>
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove accordion dark mode declarations from .dark block</name>
  <files>packages/core/src/styles/tailwind.css</files>
  <action>
    In `packages/core/src/styles/tailwind.css`, locate the `.dark` block. Find and remove exactly these 5 lines (comment + 4 accordion declarations):

    ```
      /* Accordion dark mode */
      --ui-accordion-header-text: var(--color-gray-50);
      --ui-accordion-header-hover-bg: var(--color-gray-800);
      --ui-accordion-border: var(--color-gray-800);
      --ui-accordion-panel-text: var(--color-gray-400);
    ```

    Do NOT touch the `:root` block accordion tokens — they are correct and must stay.
    Do NOT touch any other component's declarations.

    The removal is correct because:
    - `:root` already uses `var(--color-foreground, var(--ui-color-foreground))` for header-text
    - `.dark` overrides `--color-foreground` to a light gray value (semantic cascade)
    - Same semantic cascade logic applies for the other 3 tokens (muted → hover-bg, border → border, muted-foreground → panel-text)
    - Accordion has NO dark-mode exceptions (unlike checkbox check-color: white or switch thumb-bg: white)

    After removal, verify the .dark block contains no `--ui-accordion-*` declarations at all.
  </action>
  <verify>
    <automated>grep -n "ui-accordion" /Users/sn0w/Documents/dev/lit-components/packages/core/src/styles/tailwind.css</automated>
    Expect: All --ui-accordion-* occurrences are only in the :root block. Zero occurrences in the .dark block.
  </verify>
  <done>The .dark block has no --ui-accordion-* declarations. The :root block retains all 14 accordion token entries unchanged with double-fallback var() form for color tokens.</done>
</task>

</tasks>

<verification>
grep -n "ui-accordion" /Users/sn0w/Documents/dev/lit-components/packages/core/src/styles/tailwind.css
Expected: All matches are in :root block only (lines ~812-834). No accordion tokens in .dark block.

grep -c "ui-accordion" /Users/sn0w/Documents/dev/lit-components/packages/core/src/styles/tailwind.css
Expected: 14 occurrences (all in :root; the 4 .dark declarations removed = 14 total down from 18).
</verification>

<success_criteria>
- `.dark` block contains no `--ui-accordion-*` declarations
- `:root` block retains all accordion tokens unchanged (14 entries)
- Accordion dark mode now cascades via `.dark` semantic color tokens
</success_criteria>

<output>
After completion, create `.planning/phases/85-accordion/85-01-SUMMARY.md`
</output>
