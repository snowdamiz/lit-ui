---
phase: 85-accordion
plan: "02"
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/docs/src/pages/components/AccordionPage.tsx
autonomous: true
requirements:
  - ACC-02

must_haves:
  truths:
    - "accordionCSSVars array in AccordionPage.tsx lists all 14 --ui-accordion-* tokens from tailwind.css :root with accurate defaults"
    - "Color token defaults use double-fallback var() form matching tailwind.css :root exactly"
    - "The missing --ui-accordion-gap token is present in the docs table"
    - "cssVarsCode example references semantic token variable names"
  artifacts:
    - path: "apps/docs/src/pages/components/AccordionPage.tsx"
      provides: "Accurate accordionCSSVars array with 14 entries matching tailwind.css :root"
      contains: "--ui-accordion-gap"
  key_links:
    - from: "apps/docs/src/pages/components/AccordionPage.tsx (accordionCSSVars)"
      to: "packages/core/src/styles/tailwind.css (:root accordion block)"
      via: "Default values match tailwind.css :root entries exactly"
      pattern: "var(--color-border, var(--ui-color-border)) form for color tokens"
---

<objective>
Update `accordionCSSVars` in `AccordionPage.tsx` from 13 stale entries to 14 accurate entries matching `tailwind.css :root`. The current docs have several issues:

1. Missing `--ui-accordion-gap` token (present in :root but absent from docs)
2. Color token defaults use single `var()` form instead of double-fallback form
3. `cssVarsCode` example uses bare color names instead of semantic token references

Purpose: Docs accurately reflect all CSS custom properties and their real defaults so developers can override correctly.
Output: `AccordionPage.tsx` with an `accordionCSSVars` array of 14 entries (was 13) with double-fallback color defaults, and an updated `cssVarsCode` example.
</objective>

<execution_context>
@/Users/sn0w/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sn0w/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

<interfaces>
<!-- Exact tailwind.css :root accordion token block (ground truth for default values): -->

```css
  --ui-accordion-border: var(--color-border, var(--ui-color-border));
  --ui-accordion-border-width: 1px;
  --ui-accordion-radius: 0.375rem;
  --ui-accordion-gap: 0;

  --ui-accordion-header-padding: 1rem;
  --ui-accordion-header-font-weight: 500;
  --ui-accordion-header-font-size: 1rem;
  --ui-accordion-header-text: var(--color-foreground, var(--ui-color-foreground));
  --ui-accordion-header-bg: transparent;
  --ui-accordion-header-hover-bg: var(--color-muted, var(--ui-color-muted));

  --ui-accordion-panel-padding: 0 1rem 1rem;
  --ui-accordion-panel-text: var(--color-muted-foreground, var(--ui-color-muted-foreground));

  --ui-accordion-transition: 200ms;

  --ui-accordion-ring: var(--color-ring, var(--ui-color-ring));
```

That is 14 token entries (counting --ui-accordion-gap which is currently missing from docs).

Current stale accordionCSSVars defaults (to replace):
- `--ui-accordion-border`: stale `var(--color-border)` → correct `var(--color-border, var(--ui-color-border))`
- `--ui-accordion-header-text`: stale `var(--color-foreground)` → correct `var(--color-foreground, var(--ui-color-foreground))`
- `--ui-accordion-header-hover-bg`: stale `var(--color-muted)` → correct `var(--color-muted, var(--ui-color-muted))`
- `--ui-accordion-panel-text`: stale `var(--color-muted-foreground)` → correct `var(--color-muted-foreground, var(--ui-color-muted-foreground))`
- `--ui-accordion-ring`: stale `var(--color-ring)` → correct `var(--color-ring, var(--ui-color-ring))`
- Missing entry: `--ui-accordion-gap` → add with default `0` and description `Gap between accordion items.`

Established pattern from prior phases (e.g. 83-02, 84-02): color token defaults use `var(--color-X, var(--ui-color-X))` double-fallback form.
</interfaces>
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update accordionCSSVars array and cssVarsCode example</name>
  <files>apps/docs/src/pages/components/AccordionPage.tsx</files>
  <action>
    In `apps/docs/src/pages/components/AccordionPage.tsx`, replace the entire `accordionCSSVars` array constant with 14 accurate entries matching tailwind.css :root. The new array must be:

    ```typescript
    const accordionCSSVars: CSSVarDef[] = [
      { name: '--ui-accordion-border', default: 'var(--color-border, var(--ui-color-border))', description: 'Border color between items and around the container.' },
      { name: '--ui-accordion-border-width', default: '1px', description: 'Border width.' },
      { name: '--ui-accordion-radius', default: '0.375rem', description: 'Container border radius.' },
      { name: '--ui-accordion-gap', default: '0', description: 'Gap between accordion items.' },
      { name: '--ui-accordion-header-padding', default: '1rem', description: 'Header button padding.' },
      { name: '--ui-accordion-header-font-weight', default: '500', description: 'Header font weight.' },
      { name: '--ui-accordion-header-font-size', default: '1rem', description: 'Header font size.' },
      { name: '--ui-accordion-header-text', default: 'var(--color-foreground, var(--ui-color-foreground))', description: 'Header text color.' },
      { name: '--ui-accordion-header-bg', default: 'transparent', description: 'Header background color.' },
      { name: '--ui-accordion-header-hover-bg', default: 'var(--color-muted, var(--ui-color-muted))', description: 'Header background on hover.' },
      { name: '--ui-accordion-panel-padding', default: '0 1rem 1rem', description: 'Panel content padding.' },
      { name: '--ui-accordion-panel-text', default: 'var(--color-muted-foreground, var(--ui-color-muted-foreground))', description: 'Panel text color.' },
      { name: '--ui-accordion-transition', default: '200ms', description: 'Animation duration for expand/collapse.' },
      { name: '--ui-accordion-ring', default: 'var(--color-ring, var(--ui-color-ring))', description: 'Focus ring color.' },
    ];
    ```

    Also update the `cssVarsCode` example to reference double-fallback semantic token variable names rather than bare color names. Replace the current cssVarsCode with:

    ```typescript
    const cssVarsCode = `/* Global override - all accordions */
    :root {
      --ui-accordion-radius: 0.5rem;
      --ui-accordion-header-hover-bg: var(--color-accent, var(--ui-color-accent));
    }

    /* Scoped override - only in this container */
    .faq-section {
      --ui-accordion-header-padding: 1.25rem;
      --ui-accordion-panel-padding: 0 1.25rem 1.25rem;
      --ui-accordion-transition: 300ms;
    }`;
    ```

    Do NOT change any other content in the file — examples, props tables, slots tables, events section, or JSX structure must remain untouched.
  </action>
  <verify>
    <automated>grep -c "ui-accordion" /Users/sn0w/Documents/dev/lit-components/apps/docs/src/pages/components/AccordionPage.tsx</automated>
    Expect: 14 entries in accordionCSSVars (look for 14 lines containing --ui-accordion- in the array) plus occurrences in cssVarsCode.

    Also run:
    <automated>grep "ui-accordion-gap" /Users/sn0w/Documents/dev/lit-components/apps/docs/src/pages/components/AccordionPage.tsx</automated>
    Expect: At least 1 match (the new --ui-accordion-gap entry in accordionCSSVars).

    Also run:
    <automated>grep "ui-color-border\|ui-color-foreground\|ui-color-muted\|ui-color-ring" /Users/sn0w/Documents/dev/lit-components/apps/docs/src/pages/components/AccordionPage.tsx</automated>
    Expect: Matches showing the double-fallback var() form for color tokens.
  </verify>
  <done>accordionCSSVars has 14 entries with double-fallback var() defaults for all color tokens, --ui-accordion-gap is present, and cssVarsCode uses semantic token references.</done>
</task>

</tasks>

<verification>
grep -n "accordionCSSVars" /Users/sn0w/Documents/dev/lit-components/apps/docs/src/pages/components/AccordionPage.tsx
Expected: 14-entry array (was 13) with double-fallback color defaults.

grep "ui-accordion-gap" /Users/sn0w/Documents/dev/lit-components/apps/docs/src/pages/components/AccordionPage.tsx
Expected: Present (was missing from docs).

grep "var(--color-border, var(--ui-color-border))" /Users/sn0w/Documents/dev/lit-components/apps/docs/src/pages/components/AccordionPage.tsx
Expected: Found (correct double-fallback default for border token).
</verification>

<success_criteria>
- `accordionCSSVars` has exactly 14 entries
- `--ui-accordion-gap` entry present with default `0`
- All 5 color token defaults use double-fallback `var(--color-X, var(--ui-color-X))` form
- `cssVarsCode` uses semantic variable names (not raw color strings)
</success_criteria>

<output>
After completion, create `.planning/phases/85-accordion/85-02-SUMMARY.md`
</output>
