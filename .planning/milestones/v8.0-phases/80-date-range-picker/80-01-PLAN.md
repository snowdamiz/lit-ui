---
phase: 80-date-range-picker
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - packages/core/src/styles/tailwind.css
autonomous: true
requirements:
  - DRP-01

must_haves:
  truths:
    - "Date Range Picker dark mode is governed entirely by the semantic .dark token cascade — no hardcoded per-component .dark overrides"
    - "The two compare-* tokens (oklch literals) remain as .dark exceptions because their :root values are literal non-var oklch colors that cannot cascade"
    - "The :root block with 31 --ui-date-range-* tokens remains untouched"
  artifacts:
    - path: "packages/core/src/styles/tailwind.css"
      provides: "Date Range Picker .dark block removed (23 declarations + comment); :root 31-token block unchanged"
      contains: "ui-date-range-compare-highlight-bg"
  key_links:
    - from: "packages/core/src/styles/tailwind.css .dark block"
      to: "semantic .dark cascade via --color-background, --color-foreground, etc."
      via: "double-fallback var() in :root"
      pattern: "--ui-date-range-bg: var\\(--color-background"
---

<objective>
Remove 23 hardcoded .dark --ui-date-range-* declarations from tailwind.css, keeping only the 2 compare-* oklch exceptions that cannot cascade through semantic tokens.

Purpose: Dark mode should be governed by the semantic .dark cascade pattern (established in Phase 70-01 and consistently applied through Phase 79-01). All 29 non-exception tokens already use double-fallback var() in :root and will resolve correctly without explicit .dark overrides.

Output: tailwind.css .dark block no longer contains hardcoded date-range-picker declarations (except the 2 compare-* oklch tokens that are genuine exceptions).
</objective>

<execution_context>
@/Users/sn0w/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sn0w/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

The established pattern (Phases 70-01 through 79-01): remove all hardcoded .dark component token overrides except where the :root value is a literal non-var value (like `white` or an `oklch()` color that has a different dark-mode value). The semantic .dark cascade handles the rest via:
  .dark { --color-background: var(--color-gray-950) }
  .dark { --color-foreground: var(--color-gray-50) }
  etc.

**Exceptions for date-range-picker:**
- `--ui-date-range-compare-highlight-bg`: :root = `oklch(0.93 0.06 85)` (literal, light mode amber); .dark = `oklch(0.30 0.06 85)` (literal, dark mode amber). KEEP in .dark.
- `--ui-date-range-compare-preview-bg`: :root = `oklch(0.97 0.03 85)` (literal, light mode amber); .dark = `oklch(0.22 0.04 85)` (literal, dark mode amber). KEEP in .dark.

All other 21 .dark date-range declarations use var(--color-gray-*) which are redundant given the :root double-fallback pattern.

**Relevant .dark block location:** Lines ~303-328 in tailwind.css. Comment "/* Date Range Picker dark mode */" + 23 token declarations.

**Relevant :root block location:** Lines ~1082-1112 in tailwind.css. 31 --ui-date-range-* tokens with double-fallback var() form.
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove .dark date-range-picker block (keep 2 compare-* exceptions)</name>
  <files>packages/core/src/styles/tailwind.css</files>
  <action>
In the .dark { } block of tailwind.css, find the "/* Date Range Picker dark mode */" comment and the 23 --ui-date-range-* declarations that follow it (approximately lines 303-328).

Remove the following lines entirely:
  - The "/* Date Range Picker dark mode */" comment line
  - --ui-date-range-bg: var(--color-gray-950);
  - --ui-date-range-text: var(--color-gray-50);
  - --ui-date-range-border: var(--color-gray-700);
  - --ui-date-range-placeholder: var(--color-gray-500);
  - --ui-date-range-label-text: var(--color-gray-50);
  - --ui-date-range-popup-bg: var(--color-gray-900);
  - --ui-date-range-popup-border: var(--color-gray-700);
  - --ui-date-range-hover-bg: var(--color-gray-800);
  - --ui-date-range-disabled-bg: var(--color-gray-900);
  - --ui-date-range-disabled-border: var(--color-gray-700);
  - --ui-date-range-helper-text: var(--color-gray-400);
  - --ui-date-range-action-text: var(--color-gray-400);
  - --ui-date-range-preset-bg: var(--color-gray-900);
  - --ui-date-range-preset-text: var(--color-gray-50);
  - --ui-date-range-preset-border: var(--color-gray-600);
  - --ui-date-range-preset-hover-bg: var(--color-gray-700);
  - --ui-date-range-sidebar-border: var(--color-gray-700);
  - --ui-date-range-footer-border: var(--color-gray-700);
  - --ui-date-range-clear-border: var(--color-gray-600);
  - --ui-date-range-clear-text: var(--color-gray-50);
  - --ui-date-range-clear-hover-bg: var(--color-gray-700);
  - --ui-date-range-toggle-border: var(--color-gray-600);
  - --ui-date-range-toggle-hover-bg: var(--color-gray-800);

KEEP these two lines (genuine exceptions — oklch literals in :root that need explicit dark overrides):
  - --ui-date-range-compare-highlight-bg: oklch(0.30 0.06 85);
  - --ui-date-range-compare-preview-bg: oklch(0.22 0.04 85);

Do NOT touch the :root block (lines ~1082-1112). The 31 --ui-date-range-* tokens in :root remain unchanged.

After removal, the 2 compare-* exception lines should remain in the .dark block at the approximate position where the date-range block previously started. Add a minimal comment above them: "/* Date Range Picker compare overlays (oklch literals, no cascade) */"

Commit: `feat(80-01): remove .dark date-range-picker block (keep 2 compare-* oklch exceptions)`
  </action>
  <verify>
    <automated>grep -c "ui-date-range" /Users/sn0w/Documents/dev/lit-components/packages/core/src/styles/tailwind.css</automated>
  </verify>
  <done>
grep shows exactly 33 matches for "ui-date-range" in tailwind.css: 31 in :root + 2 compare-* exceptions in .dark. The 21 removed declarations are gone. No :root tokens changed.
  </done>
</task>

</tasks>

<verification>
1. `grep -n "ui-date-range" packages/core/src/styles/tailwind.css` — shows only :root entries (31) plus 2 compare-* .dark exceptions
2. `grep -n "\.dark" packages/core/src/styles/tailwind.css | grep "date-range" | grep -v compare` — returns no output (no non-exception dark overrides remain)
3. `grep -c "ui-date-range-bg\|ui-date-range-text\|ui-date-range-border\|ui-date-range-placeholder" packages/core/src/styles/tailwind.css` — counts should match only :root lines
</verification>

<success_criteria>
- .dark block no longer contains "/* Date Range Picker dark mode */" comment
- .dark block no longer contains 21 removed --ui-date-range-* declarations
- .dark block still contains --ui-date-range-compare-highlight-bg and --ui-date-range-compare-preview-bg (the 2 oklch exceptions)
- :root block has exactly 31 --ui-date-range-* tokens, all unchanged
- Pattern matches all prior phases (70-01 through 79-01)
</success_criteria>

<output>
After completion, create `.planning/phases/80-date-range-picker/80-01-SUMMARY.md`
</output>
