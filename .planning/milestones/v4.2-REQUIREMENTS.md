# Requirements Archive: v4.2 Form Controls

**Archived:** 2026-01-27
**Status:** SHIPPED

This is the archived requirements specification for v4.2.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

## v4.2 Requirements

Requirements for Checkbox, Radio, and Switch components. Each maps to roadmap phases.

### Checkbox

- [x] **CHKB-01**: User can toggle a checkbox between checked and unchecked states
- [x] **CHKB-02**: Checkbox supports indeterminate (tri-state) visual and ARIA (`aria-checked="mixed"`)
- [x] **CHKB-03**: Checkbox participates in forms via ElementInternals (`name`, `value`, `setFormValue`)
- [x] **CHKB-04**: Checkbox supports `required` validation with `setValidity`
- [x] **CHKB-05**: Checkbox supports `disabled` state with `aria-disabled`
- [x] **CHKB-06**: Checkbox renders label text via `label` property or default slot
- [x] **CHKB-07**: Checkbox has size variants (sm/md/lg) matching existing components
- [x] **CHKB-08**: Checkbox has animated SVG checkmark draw-in transition
- [x] **CHKB-09**: Checkbox has CSS design tokens (`--ui-checkbox-*`) for full theming
- [x] **CHKB-10**: Checkbox supports dark mode via token system
- [x] **CHKB-11**: Checkbox is SSR-compatible with `isServer` guards
- [x] **CHKB-12**: Checkbox toggles on Space key (not Enter, per WAI-ARIA)
- [x] **CHKB-13**: Checkbox respects `prefers-reduced-motion` for animations
- [x] **CHKB-14**: Checkbox supports form reset via `formResetCallback`

### Checkbox Group

- [x] **CGRP-01**: CheckboxGroup renders with `role="group"` and `aria-labelledby`
- [x] **CGRP-02**: CheckboxGroup displays label text
- [x] **CGRP-03**: CheckboxGroup propagates `disabled` state to all children
- [x] **CGRP-04**: CheckboxGroup supports select all / deselect all with indeterminate parent checkbox
- [x] **CGRP-05**: CheckboxGroup displays error state with validation message

### Radio

- [x] **RDIO-01**: User can select a radio option (checked/unchecked visual state)
- [x] **RDIO-02**: Radio renders label text via `label` property or default slot
- [x] **RDIO-03**: Radio supports `disabled` state
- [x] **RDIO-04**: Radio has size variants (sm/md/lg)
- [x] **RDIO-05**: Radio has animated dot scale transition on selection
- [x] **RDIO-06**: Radio has CSS design tokens (`--ui-radio-*`) for full theming
- [x] **RDIO-07**: Radio supports dark mode via token system
- [x] **RDIO-08**: Radio is SSR-compatible with `isServer` guards

### Radio Group

- [x] **RGRP-01**: RadioGroup enforces mutual exclusion (only one radio selected at a time)
- [x] **RGRP-02**: RadioGroup participates in forms via ElementInternals (`name`, `value`, `setFormValue`)
- [x] **RGRP-03**: RadioGroup implements roving tabindex keyboard navigation (arrow keys move + select, Tab exits group)
- [x] **RGRP-04**: RadioGroup supports `required` validation with `setValidity`
- [x] **RGRP-05**: RadioGroup renders with `role="radiogroup"` and `aria-labelledby`
- [x] **RGRP-06**: RadioGroup propagates `disabled` state to all children
- [x] **RGRP-07**: RadioGroup supports form reset via `formResetCallback`
- [x] **RGRP-08**: RadioGroup displays error state with validation message

### Switch

- [x] **SWCH-01**: User can toggle a switch between on and off states
- [x] **SWCH-02**: Switch renders as track + thumb visual with animated slide transition
- [x] **SWCH-03**: Switch participates in forms via ElementInternals (`name`, `value`, `setFormValue`)
- [x] **SWCH-04**: Switch supports `required` validation with `setValidity`
- [x] **SWCH-05**: Switch supports `disabled` state with `aria-disabled`
- [x] **SWCH-06**: Switch renders label text via `label` property or default slot
- [x] **SWCH-07**: Switch has size variants (sm/md/lg)
- [x] **SWCH-08**: Switch uses `role="switch"` with `aria-checked` (not checkbox role)
- [x] **SWCH-09**: Switch toggles on Space key (and Enter key, per WAI-ARIA switch pattern)
- [x] **SWCH-10**: Switch has CSS design tokens (`--ui-switch-*`) for full theming
- [x] **SWCH-11**: Switch supports dark mode via token system
- [x] **SWCH-12**: Switch is SSR-compatible with `isServer` guards
- [x] **SWCH-13**: Switch respects `prefers-reduced-motion` for animations
- [x] **SWCH-14**: Switch supports form reset via `formResetCallback`

### CLI and Documentation

- [x] **CLIDOC-01**: CLI registry entries for checkbox, radio, and switch components
- [x] **CLIDOC-02**: Docs page for Checkbox with interactive examples
- [x] **CLIDOC-03**: Docs page for Radio with interactive examples
- [x] **CLIDOC-04**: Docs page for Switch with interactive examples
- [x] **CLIDOC-05**: Navigation updated with new component pages

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| SWCH-01 to SWCH-14 | Phase 38 | Complete |
| CHKB-01 to CHKB-14 | Phase 39 | Complete |
| CGRP-01 to CGRP-05 | Phase 39 | Complete |
| RDIO-01 to RDIO-08 | Phase 40 | Complete |
| RGRP-01 to RGRP-08 | Phase 40 | Complete |
| CLIDOC-01 to CLIDOC-05 | Phase 41 | Complete |

**Coverage:**
- v4.2 requirements: 54 total
- Shipped: 54 (100%)
- Adjusted: 0
- Dropped: 0

---

## Milestone Summary

**Shipped:** 54 of 54 v4.2 requirements
**Adjusted:** None
**Dropped:** None

---
*Archived: 2026-01-27 as part of v4.2 milestone completion*
