# Requirements Archive: v4.1 Select Component

**Archived:** 2026-01-27
**Status:** ✅ SHIPPED

This is the archived requirements specification for v4.1.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

## v4.1 Requirements

Requirements for Select component with single-select, multi-select, combobox, and async loading.

### Single Select

- [x] **SELECT-01**: Select renders as dropdown trigger with current value display
- [x] **SELECT-02**: Select opens dropdown on click, Enter, Space, or ArrowDown
- [x] **SELECT-03**: Select supports arrow key navigation through options
- [x] **SELECT-04**: Select supports type-ahead search (focuses matching option)
- [x] **SELECT-05**: Select participates in native forms via ElementInternals
- [x] **SELECT-06**: Select validates required fields (shows error when empty on submit)
- [x] **SELECT-07**: Select supports disabled state (whole component)
- [x] **SELECT-08**: Option supports disabled state (individual options)
- [x] **SELECT-09**: Select shows placeholder text when no selection
- [x] **SELECT-10**: Select shows focus ring on keyboard focus
- [x] **SELECT-11**: Select shows error visual state when invalid
- [x] **SELECT-12**: Select supports size variants (sm, default, lg)
- [x] **SELECT-13**: Select supports option groups with headers (lui-option-group)
- [x] **SELECT-14**: Option supports custom content via slots (icons, descriptions)
- [x] **SELECT-15**: Select supports clearable prop (X button to reset value)

### Multi-Select

- [x] **MULTI-01**: Select supports multiple prop for multi-selection
- [x] **MULTI-02**: Multi-select shows checkbox indicators on options
- [x] **MULTI-03**: Multi-select displays selected items as tags/chips
- [x] **MULTI-04**: Tags have X button to remove individual selections
- [x] **MULTI-05**: Multi-select submits array values via FormData (multiple append)
- [x] **MULTI-06**: Multi-select supports tag overflow display ("+N more")
- [x] **MULTI-07**: Multi-select supports select all / deselect all actions

### Combobox

- [x] **COMBO-01**: Select supports searchable prop for text input filtering
- [x] **COMBO-02**: Combobox filters options as user types
- [x] **COMBO-03**: Combobox shows empty state when no options match
- [x] **COMBO-04**: Combobox highlights matching text in option labels
- [x] **COMBO-05**: Combobox supports custom filter function prop
- [x] **COMBO-06**: Combobox supports creatable prop (add new option if not found)

### Async Loading

- [x] **ASYNC-01**: Select supports options prop accepting Promise
- [x] **ASYNC-02**: Select shows loading spinner while options load
- [x] **ASYNC-03**: Select shows error state with retry button on load failure
- [x] **ASYNC-04**: Combobox supports async search (debounced API calls)
- [x] **ASYNC-05**: Select supports infinite scroll for paginated options
- [x] **ASYNC-06**: Select supports virtual scrolling for 100+ options

### Infrastructure

- [x] **INFRA-01**: CSS tokens for select added to @lit-ui/core (--ui-select-*)
- [x] **INFRA-02**: @lit-ui/select package created with SSR support
- [x] **INFRA-03**: @floating-ui/dom added as dependency for positioning
- [x] **INFRA-04**: @tanstack/lit-virtual added as dependency for virtual scrolling
- [x] **INFRA-05**: CLI templates updated for select component
- [x] **INFRA-06**: Docs page created for Select component

### Accessibility

- [x] **A11Y-01**: Select uses ARIA 1.2 combobox pattern (input has role="combobox")
- [x] **A11Y-02**: Select uses aria-controls to reference listbox (not aria-owns)
- [x] **A11Y-03**: Select manages focus with aria-activedescendant
- [x] **A11Y-04**: Options have role="option" with aria-selected state
- [x] **A11Y-05**: Option groups use role="group" with aria-labelledby
- [x] **A11Y-06**: Keyboard navigation follows W3C APG combobox pattern

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| INFRA-01 | Phase 31 | Complete |
| INFRA-02 | Phase 31 | Complete |
| INFRA-03 | Phase 31 | Complete |
| SELECT-01 through SELECT-12 | Phase 32 | Complete |
| A11Y-01 through A11Y-04 | Phase 32 | Complete |
| SELECT-13 through SELECT-15 | Phase 33 | Complete |
| A11Y-05 | Phase 33 | Complete |
| MULTI-01 through MULTI-07 | Phase 34 | Complete |
| COMBO-01 through COMBO-06 | Phase 35 | Complete |
| A11Y-06 | Phase 35 | Complete |
| ASYNC-01 through ASYNC-06 | Phase 36 | Complete |
| INFRA-04 | Phase 36 | Complete |
| INFRA-05 | Phase 37 | Complete |
| INFRA-06 | Phase 37 | Complete |

**Coverage:** 46 of 46 requirements shipped (100%)

---

## Milestone Summary

**Shipped:** 46 of 46 v4.1 requirements
**Adjusted:** None — all requirements delivered as specified
**Dropped:** None

---
*Archived: 2026-01-27 as part of v4.1 milestone completion*
