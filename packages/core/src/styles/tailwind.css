/**
 * Tailwind CSS v4 Configuration with Design Tokens
 *
 * This file defines the design token system for the component library.
 * Tokens are structured in three layers:
 * 1. Primitive tokens - raw values with scale-based naming
 * 2. Semantic tokens - meaningful names referencing primitives
 * 3. Dark mode tokens - overrides for dark theme
 *
 * CSS custom properties defined in @theme cascade into Shadow DOM,
 * enabling consistent theming across all components.
 */
@import "tailwindcss";

/* Safelist utilities for btn-class/dialog-class passthrough (Tier 2 customization) */
@import "./safelist.css";

@theme {
  /* ==========================================================================
   * PRIMITIVE TOKENS
   * Raw values following scale-based naming conventions.
   * These should rarely be used directly in components.
   * ========================================================================== */

  /* Brand Colors (oklch color space for wide-gamut support) */
  --color-brand-50: oklch(0.97 0.02 250);
  --color-brand-100: oklch(0.94 0.04 250);
  --color-brand-200: oklch(0.88 0.08 250);
  --color-brand-300: oklch(0.79 0.12 250);
  --color-brand-400: oklch(0.70 0.15 250);
  --color-brand-500: oklch(0.62 0.18 250);
  --color-brand-600: oklch(0.54 0.16 250);
  --color-brand-700: oklch(0.46 0.13 250);
  --color-brand-800: oklch(0.38 0.10 250);
  --color-brand-900: oklch(0.28 0.08 250);
  --color-brand-950: oklch(0.20 0.06 250);

  /* Spacing Scale (extends Tailwind defaults) */
  --spacing-0: 0px;
  --spacing-px: 1px;
  --spacing-0\.5: 0.125rem;
  --spacing-1: 0.25rem;
  --spacing-1\.5: 0.375rem;
  --spacing-2: 0.5rem;
  --spacing-2\.5: 0.625rem;
  --spacing-3: 0.75rem;
  --spacing-3\.5: 0.875rem;
  --spacing-4: 1rem;
  --spacing-5: 1.25rem;
  --spacing-6: 1.5rem;
  --spacing-7: 1.75rem;
  --spacing-8: 2rem;
  --spacing-9: 2.25rem;
  --spacing-10: 2.5rem;
  --spacing-11: 2.75rem;
  --spacing-12: 3rem;
  --spacing-14: 3.5rem;
  --spacing-16: 4rem;
  --spacing-20: 5rem;
  --spacing-24: 6rem;
  --spacing-28: 7rem;
  --spacing-32: 8rem;
  --spacing-36: 9rem;
  --spacing-40: 10rem;
  --spacing-44: 11rem;
  --spacing-48: 12rem;
  --spacing-52: 13rem;
  --spacing-56: 14rem;
  --spacing-60: 15rem;
  --spacing-64: 16rem;
  --spacing-72: 18rem;
  --spacing-80: 20rem;
  --spacing-96: 24rem;

  /* Typography - Font Families */
  --font-family-sans: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  --font-family-mono: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace;

  /* Shadows */
  --shadow-xs: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
  --shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.25);

  /* Border Widths */
  --border-width-0: 0px;
  --border-width-1: 1px;
  --border-width-2: 2px;
  --border-width-4: 4px;
  --border-width-8: 8px;

  /* Border Radii */
  --radius-none: 0px;
  --radius-sm: 0.125rem;
  --radius-md: 0.375rem;
  --radius-lg: 0.5rem;
  --radius-xl: 0.75rem;
  --radius-2xl: 1rem;
  --radius-3xl: 1.5rem;
  --radius-full: 9999px;

  /* Z-Index Scale */
  --z-0: 0;
  --z-10: 10;
  --z-20: 20;
  --z-30: 30;
  --z-40: 40;
  --z-50: 50;

  /* ==========================================================================
   * SEMANTIC TOKENS
   * Meaningful names that reference primitive tokens.
   * These are what components should use.
   * ========================================================================== */

  /* Primary - Main brand color for buttons, links, focus states */
  --color-primary: var(--color-brand-500);
  --color-primary-foreground: white;

  /* Secondary - Subtle backgrounds and secondary actions */
  --color-secondary: var(--color-gray-100);
  --color-secondary-foreground: var(--color-gray-900);

  /* Destructive - Errors, delete actions, warnings */
  --color-destructive: var(--color-red-500);
  --color-destructive-foreground: white;

  /* Muted - Disabled states, subtle text, backgrounds */
  --color-muted: var(--color-gray-100);
  --color-muted-foreground: var(--color-gray-500);

  /* Accent - Hover states, highlights */
  --color-accent: var(--color-gray-100);
  --color-accent-foreground: var(--color-gray-900);

  /* Background and foreground - Page-level colors */
  --color-background: white;
  --color-foreground: var(--color-gray-950);

  /* Borders and inputs */
  --color-border: var(--color-gray-200);
  --color-input: var(--color-gray-100);
  --color-ring: var(--color-brand-400);

  /* Card - Card component surfaces */
  --color-card: white;
  --color-card-foreground: var(--color-gray-950);
}

/* ==========================================================================
 * DARK MODE
 * Class-based dark theme using .dark selector on document root.
 * CSS custom properties cascade into Shadow DOM from ancestor elements,
 * so components automatically receive dark mode values.
 * User controls by adding/removing .dark class on html/body.
 * ========================================================================== */
.dark {
  /* Primary */
  --color-primary: var(--color-brand-400);
  --color-primary-foreground: var(--color-gray-950);

  /* Secondary */
  --color-secondary: var(--color-gray-800);
  --color-secondary-foreground: var(--color-gray-100);

  /* Destructive */
  --color-destructive: var(--color-red-400);
  --color-destructive-foreground: var(--color-gray-950);

  /* Muted */
  --color-muted: var(--color-gray-800);
  --color-muted-foreground: var(--color-gray-400);

  /* Accent */
  --color-accent: var(--color-gray-800);
  --color-accent-foreground: var(--color-gray-100);

  /* Background and foreground */
  --color-background: var(--color-gray-950);
  --color-foreground: var(--color-gray-50);

  /* Borders and inputs */
  --color-border: var(--color-gray-800);
  --color-input: var(--color-gray-800);
  --color-ring: var(--color-brand-600);

  /* Card */
  --color-card: var(--color-gray-900);
  --color-card-foreground: var(--color-gray-50);
}

/* ==========================================================================
 * COMPONENT CSS CUSTOM PROPERTIES
 * These are defined on :root so they cascade into Shadow DOM.
 * Users can override these globally or in scoped containers.
 * ========================================================================== */
:root {
  /* Button Component */
  --ui-button-radius: 0.375rem; /* --radius-md */
  --ui-button-shadow: none;
  --ui-button-font-weight: 500;

  /* Dialog Component */
  --ui-dialog-radius: 0.5rem; /* --radius-lg */
  --ui-dialog-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1); /* --shadow-lg */
  --ui-dialog-padding: 1.5rem; /* --spacing-6 */
}

/* ==========================================================================
 * GLOBAL UTILITIES
 * Page-level CSS rules that affect the document.
 * ========================================================================== */

/* Prevent layout shift when scrollbar appears/disappears */
html {
  scrollbar-gutter: stable;
}

/* Dialog scroll lock - prevents background scrolling when dialog is open */
body:has(dialog[open]) {
  overflow: hidden;
}
